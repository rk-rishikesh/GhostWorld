{"id":"njTM","dependencies":[{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\package.json","includedInParent":true,"mtime":1648301114916},{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\broadcast-channel\\package.json","includedInParent":true,"mtime":1648301044983},{"name":"./util.js","loc":{"line":9,"column":20,"index":183},"parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\broadcast-channel\\dist\\lib\\leader-election.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\broadcast-channel\\dist\\lib\\util.js"},{"name":"unload","loc":{"line":11,"column":22,"index":220},"parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\broadcast-channel\\dist\\lib\\leader-election.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\unload\\dist\\es\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.beLeader=i,exports.createLeaderElection=o;var e=require(\"./util.js\"),n=require(\"unload\"),t=function(n,t){var r=this;this.broadcastChannel=n,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,e.randomToken)(),this._aplQ=e.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var a=function(e){\"leader\"===e.context&&(\"death\"===e.action&&(r.hasLeader=!1),\"tell\"===e.action&&(r.hasLeader=!0))};this.broadcastChannel.addEventListener(\"internal\",a),this._lstns.push(a)};function r(n){return n.isLeader?e.PROMISE_RESOLVED_VOID:new Promise(function(t){var r=!1;function a(){r||(r=!0,n.broadcastChannel.removeEventListener(\"internal\",i),t(!0))}n.applyOnce().then(function(){n.isLeader&&a()});!function t(){return(0,e.sleep)(n._options.fallbackInterval).then(function(){if(!n.isDead&&!r)return n.isLeader?void a():n.applyOnce(!0).then(function(){n.isLeader?a():t()})})}();var i=function(e){\"leader\"===e.context&&\"death\"===e.action&&(n.hasLeader=!1,n.applyOnce().then(function(){n.isLeader&&a()}))};n.broadcastChannel.addEventListener(\"internal\",i),n._lstns.push(i)})}function a(e,n){var t={context:\"leader\",action:n,token:e.token};return e.broadcastChannel.postInternal(t)}function i(e){e.isLeader=!0,e.hasLeader=!0;var t=(0,n.add)(function(){return e.die()});e._unl.push(t);var r=function(n){\"leader\"===n.context&&\"apply\"===n.action&&a(e,\"tell\"),\"leader\"!==n.context||\"tell\"!==n.action||e._dpLC||(e._dpLC=!0,e._dpL(),a(e,\"tell\"))};return e.broadcastChannel.addEventListener(\"internal\",r),e._lstns.push(r),a(e,\"tell\")}function s(e,n){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=n.method.averageResponseTime(n.options)),e}function o(e,n){if(e._leaderElector)throw new Error(\"BroadcastChannel already has a leader-elector\");n=s(n,e);var r=new t(e,n);return e._befC.push(function(){return r.die()}),e._leaderElector=r,r}t.prototype={applyOnce:function(n){var t=this;if(this.isLeader)return(0,e.sleep)(0,!0);if(this.isDead)return(0,e.sleep)(0,!1);if(this._aplQC>1)return this._aplQ;return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(t.isLeader)return e.PROMISE_RESOLVED_TRUE;var r,s=!1,o=new Promise(function(e){r=function(){s=!0,e()}}),l=[],h=function(e){\"leader\"===e.context&&e.token!=t.token&&(l.push(e),\"apply\"===e.action&&e.token>t.token&&r(),\"tell\"===e.action&&(r(),t.hasLeader=!0))};t.broadcastChannel.addEventListener(\"internal\",h);var c=n?4*t._options.responseTime:t._options.responseTime;return a(t,\"apply\").then(function(){return Promise.race([(0,e.sleep)(c),o.then(function(){return Promise.reject(new Error)})])}).then(function(){return a(t,\"apply\")}).then(function(){return Promise.race([(0,e.sleep)(c),o.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return t.broadcastChannel.removeEventListener(\"internal\",h),!s&&i(t).then(function(){return!0})})}()}).then(function(){t._aplQC=t._aplQC-1}),this._aplQ.then(function(){return t.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=r(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach(function(n){return e.broadcastChannel.removeEventListener(\"internal\",n)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,a(this,\"death\")}};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":3,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":3,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":3,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":3,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":4,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":4,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":6,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":6,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":6,"column":0},"generated":{"line":1,"column":85}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":7,"column":0},"generated":{"line":1,"column":87}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":7,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":7,"column":0},"generated":{"line":1,"column":116}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":9,"column":0},"generated":{"line":1,"column":118}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":9,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":9,"column":0},"generated":{"line":1,"column":124}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":9,"column":0},"generated":{"line":1,"column":132}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":11,"column":0},"generated":{"line":1,"column":145}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":11,"column":0},"generated":{"line":1,"column":147}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":11,"column":0},"generated":{"line":1,"column":155}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":13,"column":0},"generated":{"line":1,"column":165}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":13,"column":0},"generated":{"line":1,"column":167}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":13,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":13,"column":0},"generated":{"line":1,"column":178}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":14,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":14,"column":0},"generated":{"line":1,"column":185}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":14,"column":0},"generated":{"line":1,"column":187}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":16,"column":0},"generated":{"line":1,"column":192}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":16,"column":0},"generated":{"line":1,"column":197}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":16,"column":0},"generated":{"line":1,"column":214}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":17,"column":0},"generated":{"line":1,"column":216}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":17,"column":0},"generated":{"line":1,"column":221}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":17,"column":0},"generated":{"line":1,"column":230}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":18,"column":0},"generated":{"line":1,"column":232}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":18,"column":0},"generated":{"line":1,"column":237}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":18,"column":0},"generated":{"line":1,"column":247}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":19,"column":0},"generated":{"line":1,"column":249}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":19,"column":0},"generated":{"line":1,"column":254}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":19,"column":0},"generated":{"line":1,"column":265}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":20,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":20,"column":0},"generated":{"line":1,"column":272}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":20,"column":0},"generated":{"line":1,"column":280}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":21,"column":0},"generated":{"line":1,"column":282}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":21,"column":0},"generated":{"line":1,"column":287}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":21,"column":0},"generated":{"line":1,"column":294}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":21,"column":0},"generated":{"line":1,"column":296}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":21,"column":0},"generated":{"line":1,"column":298}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":28,"column":0},"generated":{"line":1,"column":313}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":28,"column":0},"generated":{"line":1,"column":318}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":28,"column":0},"generated":{"line":1,"column":324}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":28,"column":0},"generated":{"line":1,"column":326}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":30,"column":0},"generated":{"line":1,"column":348}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":30,"column":0},"generated":{"line":1,"column":353}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":30,"column":0},"generated":{"line":1,"column":360}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":32,"column":0},"generated":{"line":1,"column":362}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":32,"column":0},"generated":{"line":1,"column":367}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":32,"column":0},"generated":{"line":1,"column":372}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":34,"column":0},"generated":{"line":1,"column":375}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":34,"column":0},"generated":{"line":1,"column":380}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":34,"column":0},"generated":{"line":1,"column":387}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":36,"column":0},"generated":{"line":1,"column":390}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":36,"column":0},"generated":{"line":1,"column":395}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":36,"column":0},"generated":{"line":1,"column":400}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":39,"column":0},"generated":{"line":1,"column":413}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":39,"column":0},"generated":{"line":1,"column":418}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":39,"column":0},"generated":{"line":1,"column":425}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":47,"column":0},"generated":{"line":1,"column":427}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":47,"column":0},"generated":{"line":1,"column":431}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":47,"column":0},"generated":{"line":1,"column":433}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":47,"column":0},"generated":{"line":1,"column":442}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":48,"column":0},"generated":{"line":1,"column":445}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":48,"column":0},"generated":{"line":1,"column":456}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":48,"column":0},"generated":{"line":1,"column":458}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":49,"column":0},"generated":{"line":1,"column":468}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":49,"column":0},"generated":{"line":1,"column":478}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":49,"column":0},"generated":{"line":1,"column":480}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":50,"column":0},"generated":{"line":1,"column":489}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":50,"column":0},"generated":{"line":1,"column":491}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":50,"column":0},"generated":{"line":1,"column":502}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":53,"column":0},"generated":{"line":1,"column":505}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":53,"column":0},"generated":{"line":1,"column":514}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":53,"column":0},"generated":{"line":1,"column":516}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":54,"column":0},"generated":{"line":1,"column":525}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":54,"column":0},"generated":{"line":1,"column":527}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":54,"column":0},"generated":{"line":1,"column":538}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":59,"column":0},"generated":{"line":1,"column":543}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":59,"column":0},"generated":{"line":1,"column":548}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":59,"column":0},"generated":{"line":1,"column":565}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":59,"column":0},"generated":{"line":1,"column":582}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":59,"column":0},"generated":{"line":1,"column":593}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":61,"column":0},"generated":{"line":1,"column":596}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":61,"column":0},"generated":{"line":1,"column":601}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":61,"column":0},"generated":{"line":1,"column":608}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":61,"column":0},"generated":{"line":1,"column":613}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":242,"column":0},"generated":{"line":1,"column":617}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":242,"column":0},"generated":{"line":1,"column":626}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":242,"column":0},"generated":{"line":1,"column":628}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":243,"column":0},"generated":{"line":1,"column":631}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":243,"column":0},"generated":{"line":1,"column":638}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":243,"column":0},"generated":{"line":1,"column":640}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":244,"column":0},"generated":{"line":1,"column":649}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":244,"column":0},"generated":{"line":1,"column":651}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":247,"column":0},"generated":{"line":1,"column":673}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":247,"column":0},"generated":{"line":1,"column":677}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":247,"column":0},"generated":{"line":1,"column":685}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":247,"column":0},"generated":{"line":1,"column":694}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":248,"column":0},"generated":{"line":1,"column":697}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":248,"column":0},"generated":{"line":1,"column":701}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":248,"column":0},"generated":{"line":1,"column":704}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":250,"column":0},"generated":{"line":1,"column":706}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":250,"column":0},"generated":{"line":1,"column":715}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":251,"column":0},"generated":{"line":1,"column":719}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":255,"column":0},"generated":{"line":1,"column":723}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":255,"column":0},"generated":{"line":1,"column":726}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":256,"column":0},"generated":{"line":1,"column":728}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":256,"column":0},"generated":{"line":1,"column":730}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":256,"column":0},"generated":{"line":1,"column":747}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":256,"column":0},"generated":{"line":1,"column":767}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":256,"column":0},"generated":{"line":1,"column":778}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":257,"column":0},"generated":{"line":1,"column":781}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":257,"column":0},"generated":{"line":1,"column":784}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":261,"column":0},"generated":{"line":1,"column":788}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":261,"column":0},"generated":{"line":1,"column":790}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":261,"column":0},"generated":{"line":1,"column":802}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":261,"column":0},"generated":{"line":1,"column":807}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":262,"column":0},"generated":{"line":1,"column":818}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":262,"column":0},"generated":{"line":1,"column":820}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":263,"column":0},"generated":{"line":1,"column":830}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":271,"column":0},"generated":{"line":1,"column":837}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":271,"column":0},"generated":{"line":1,"column":846}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":850}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":857}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":859}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":861}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":868}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":870}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":879}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":897}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":272,"column":0},"generated":{"line":1,"column":902}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":273,"column":0},"generated":{"line":1,"column":913}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":273,"column":0},"generated":{"line":1,"column":917}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":273,"column":0},"generated":{"line":1,"column":919}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":273,"column":0},"generated":{"line":1,"column":928}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":277,"column":0},"generated":{"line":1,"column":930}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":277,"column":0},"generated":{"line":1,"column":937}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":277,"column":0},"generated":{"line":1,"column":939}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":278,"column":0},"generated":{"line":1,"column":953}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":280,"column":0},"generated":{"line":1,"column":957}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":280,"column":0},"generated":{"line":1,"column":959}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":280,"column":0},"generated":{"line":1,"column":970}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":280,"column":0},"generated":{"line":1,"column":973}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":280,"column":0},"generated":{"line":1,"column":978}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":281,"column":0},"generated":{"line":1,"column":989}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":281,"column":0},"generated":{"line":1,"column":991}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":282,"column":0},"generated":{"line":1,"column":1000}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":284,"column":0},"generated":{"line":1,"column":1004}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":291,"column":0},"generated":{"line":1,"column":1012}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":293,"column":0},"generated":{"line":1,"column":1015}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":293,"column":0},"generated":{"line":1,"column":1019}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":293,"column":0},"generated":{"line":1,"column":1021}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":293,"column":0},"generated":{"line":1,"column":1030}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":294,"column":0},"generated":{"line":1,"column":1033}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":294,"column":0},"generated":{"line":1,"column":1044}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":294,"column":0},"generated":{"line":1,"column":1046}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":294,"column":0},"generated":{"line":1,"column":1055}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":294,"column":0},"generated":{"line":1,"column":1065}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":294,"column":0},"generated":{"line":1,"column":1067}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":295,"column":0},"generated":{"line":1,"column":1076}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":295,"column":0},"generated":{"line":1,"column":1078}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":295,"column":0},"generated":{"line":1,"column":1089}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":296,"column":0},"generated":{"line":1,"column":1091}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":296,"column":0},"generated":{"line":1,"column":1093}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":296,"column":0},"generated":{"line":1,"column":1105}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":296,"column":0},"generated":{"line":1,"column":1110}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":297,"column":0},"generated":{"line":1,"column":1121}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":297,"column":0},"generated":{"line":1,"column":1123}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":298,"column":0},"generated":{"line":1,"column":1133}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":304,"column":0},"generated":{"line":1,"column":1141}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":304,"column":0},"generated":{"line":1,"column":1143}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":304,"column":0},"generated":{"line":1,"column":1160}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":304,"column":0},"generated":{"line":1,"column":1177}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":304,"column":0},"generated":{"line":1,"column":1188}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":306,"column":0},"generated":{"line":1,"column":1191}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":306,"column":0},"generated":{"line":1,"column":1193}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":306,"column":0},"generated":{"line":1,"column":1200}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":306,"column":0},"generated":{"line":1,"column":1205}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":314,"column":0},"generated":{"line":1,"column":1210}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":314,"column":0},"generated":{"line":1,"column":1219}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":314,"column":0},"generated":{"line":1,"column":1221}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":314,"column":0},"generated":{"line":1,"column":1223}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":315,"column":0},"generated":{"line":1,"column":1226}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":315,"column":0},"generated":{"line":1,"column":1230}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":315,"column":0},"generated":{"line":1,"column":1232}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":316,"column":0},"generated":{"line":1,"column":1233}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":316,"column":0},"generated":{"line":1,"column":1241}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":317,"column":0},"generated":{"line":1,"column":1250}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":317,"column":0},"generated":{"line":1,"column":1257}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":318,"column":0},"generated":{"line":1,"column":1259}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":318,"column":0},"generated":{"line":1,"column":1265}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":318,"column":0},"generated":{"line":1,"column":1267}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":320,"column":0},"generated":{"line":1,"column":1274}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":320,"column":0},"generated":{"line":1,"column":1281}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":320,"column":0},"generated":{"line":1,"column":1283}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":320,"column":0},"generated":{"line":1,"column":1300}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":320,"column":0},"generated":{"line":1,"column":1313}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":323,"column":0},"generated":{"line":1,"column":1316}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":323,"column":0},"generated":{"line":1,"column":1325}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":323,"column":0},"generated":{"line":1,"column":1327}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":324,"column":0},"generated":{"line":1,"column":1330}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":324,"column":0},"generated":{"line":1,"column":1332}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":324,"column":0},"generated":{"line":1,"column":1342}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":325,"column":0},"generated":{"line":1,"column":1344}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":325,"column":0},"generated":{"line":1,"column":1346}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":325,"column":0},"generated":{"line":1,"column":1357}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":326,"column":0},"generated":{"line":1,"column":1359}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":326,"column":0},"generated":{"line":1,"column":1363}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":326,"column":0},"generated":{"line":1,"column":1366}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":326,"column":0},"generated":{"line":1,"column":1368}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":326,"column":0},"generated":{"line":1,"column":1370}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":326,"column":0},"generated":{"line":1,"column":1375}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":327,"column":0},"generated":{"line":1,"column":1386}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":327,"column":0},"generated":{"line":1,"column":1393}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":327,"column":0},"generated":{"line":1,"column":1395}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":330,"column":0},"generated":{"line":1,"column":1403}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":330,"column":0},"generated":{"line":1,"column":1405}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":330,"column":0},"generated":{"line":1,"column":1410}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":330,"column":0},"generated":{"line":1,"column":1415}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":332,"column":0},"generated":{"line":1,"column":1418}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":332,"column":0},"generated":{"line":1,"column":1422}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":332,"column":0},"generated":{"line":1,"column":1424}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":332,"column":0},"generated":{"line":1,"column":1433}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":333,"column":0},"generated":{"line":1,"column":1436}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":333,"column":0},"generated":{"line":1,"column":1447}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":333,"column":0},"generated":{"line":1,"column":1449}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":333,"column":0},"generated":{"line":1,"column":1458}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":333,"column":0},"generated":{"line":1,"column":1468}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":333,"column":0},"generated":{"line":1,"column":1470}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":334,"column":0},"generated":{"line":1,"column":1478}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":334,"column":0},"generated":{"line":1,"column":1480}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":334,"column":0},"generated":{"line":1,"column":1482}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1490}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1501}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1503}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1512}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1521}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1523}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1531}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":337,"column":0},"generated":{"line":1,"column":1533}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":346,"column":0},"generated":{"line":1,"column":1541}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":346,"column":0},"generated":{"line":1,"column":1543}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":346,"column":0},"generated":{"line":1,"column":1550}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":348,"column":0},"generated":{"line":1,"column":1552}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":348,"column":0},"generated":{"line":1,"column":1554}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":351,"column":0},"generated":{"line":1,"column":1561}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":351,"column":0},"generated":{"line":1,"column":1563}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":351,"column":0},"generated":{"line":1,"column":1565}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":360,"column":0},"generated":{"line":1,"column":1575}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":356,"column":0},"generated":{"line":1,"column":1582}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":356,"column":0},"generated":{"line":1,"column":1584}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":356,"column":0},"generated":{"line":1,"column":1601}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":356,"column":0},"generated":{"line":1,"column":1618}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":356,"column":0},"generated":{"line":1,"column":1629}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":358,"column":0},"generated":{"line":1,"column":1632}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":358,"column":0},"generated":{"line":1,"column":1634}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":358,"column":0},"generated":{"line":1,"column":1641}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":358,"column":0},"generated":{"line":1,"column":1646}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":360,"column":0},"generated":{"line":1,"column":1649}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":360,"column":0},"generated":{"line":1,"column":1651}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":360,"column":0},"generated":{"line":1,"column":1653}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":363,"column":0},"generated":{"line":1,"column":1661}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":363,"column":0},"generated":{"line":1,"column":1670}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":363,"column":0},"generated":{"line":1,"column":1672}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":363,"column":0},"generated":{"line":1,"column":1674}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":375,"column":0},"generated":{"line":1,"column":1677}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":364,"column":0},"generated":{"line":1,"column":1684}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":364,"column":0},"generated":{"line":1,"column":1688}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":364,"column":0},"generated":{"line":1,"column":1690}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":365,"column":0},"generated":{"line":1,"column":1695}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":365,"column":0},"generated":{"line":1,"column":1697}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":365,"column":0},"generated":{"line":1,"column":1702}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":365,"column":0},"generated":{"line":1,"column":1708}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":365,"column":0},"generated":{"line":1,"column":1713}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":365,"column":0},"generated":{"line":1,"column":1723}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":367,"column":0},"generated":{"line":1,"column":1728}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":368,"column":0},"generated":{"line":1,"column":1747}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":368,"column":0},"generated":{"line":1,"column":1749}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":368,"column":0},"generated":{"line":1,"column":1766}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":371,"column":0},"generated":{"line":1,"column":1771}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":371,"column":0},"generated":{"line":1,"column":1773}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":372,"column":0},"generated":{"line":1,"column":1788}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":372,"column":0},"generated":{"line":1,"column":1790}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":372,"column":0},"generated":{"line":1,"column":1803}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":372,"column":0},"generated":{"line":1,"column":1805}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":372,"column":0},"generated":{"line":1,"column":1812}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":372,"column":0},"generated":{"line":1,"column":1832}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":372,"column":0},"generated":{"line":1,"column":1834}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":375,"column":0},"generated":{"line":1,"column":1844}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":378,"column":0},"generated":{"line":1,"column":1846}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":378,"column":0},"generated":{"line":1,"column":1855}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":378,"column":0},"generated":{"line":1,"column":1857}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":378,"column":0},"generated":{"line":1,"column":1859}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":379,"column":0},"generated":{"line":1,"column":1862}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":379,"column":0},"generated":{"line":1,"column":1865}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":379,"column":0},"generated":{"line":1,"column":1867}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":380,"column":0},"generated":{"line":1,"column":1882}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":380,"column":0},"generated":{"line":1,"column":1888}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":380,"column":0},"generated":{"line":1,"column":1892}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":380,"column":0},"generated":{"line":1,"column":1898}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":383,"column":0},"generated":{"line":1,"column":1947}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":383,"column":0},"generated":{"line":1,"column":1949}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":383,"column":0},"generated":{"line":1,"column":1951}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":383,"column":0},"generated":{"line":1,"column":1953}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":384,"column":0},"generated":{"line":1,"column":1956}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":384,"column":0},"generated":{"line":1,"column":1960}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":384,"column":0},"generated":{"line":1,"column":1962}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":384,"column":0},"generated":{"line":1,"column":1966}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":384,"column":0},"generated":{"line":1,"column":1968}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":384,"column":0},"generated":{"line":1,"column":1970}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":391,"column":0},"generated":{"line":1,"column":1973}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":386,"column":0},"generated":{"line":1,"column":1980}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":386,"column":0},"generated":{"line":1,"column":1982}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":386,"column":0},"generated":{"line":1,"column":1988}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":386,"column":0},"generated":{"line":1,"column":1993}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":387,"column":0},"generated":{"line":1,"column":2004}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":387,"column":0},"generated":{"line":1,"column":2011}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":387,"column":0},"generated":{"line":1,"column":2013}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":390,"column":0},"generated":{"line":1,"column":2021}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":390,"column":0},"generated":{"line":1,"column":2023}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":390,"column":0},"generated":{"line":1,"column":2038}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":391,"column":0},"generated":{"line":1,"column":2040}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":64,"column":0},"generated":{"line":1,"column":2042}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":64,"column":0},"generated":{"line":1,"column":2044}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":64,"column":0},"generated":{"line":1,"column":2054}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":70,"column":0},"generated":{"line":1,"column":2055}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":70,"column":0},"generated":{"line":1,"column":2065}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":71,"column":0},"generated":{"line":1,"column":2074}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":72,"column":0},"generated":{"line":1,"column":2077}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":72,"column":0},"generated":{"line":1,"column":2081}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":72,"column":0},"generated":{"line":1,"column":2083}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":74,"column":0},"generated":{"line":1,"column":2088}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":74,"column":0},"generated":{"line":1,"column":2091}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":74,"column":0},"generated":{"line":1,"column":2096}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":75,"column":0},"generated":{"line":1,"column":2105}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":75,"column":0},"generated":{"line":1,"column":2112}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":75,"column":0},"generated":{"line":1,"column":2114}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":75,"column":0},"generated":{"line":1,"column":2116}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":75,"column":0},"generated":{"line":1,"column":2123}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":75,"column":0},"generated":{"line":1,"column":2126}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":78,"column":0},"generated":{"line":1,"column":2129}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":78,"column":0},"generated":{"line":1,"column":2132}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":78,"column":0},"generated":{"line":1,"column":2137}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":79,"column":0},"generated":{"line":1,"column":2144}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":79,"column":0},"generated":{"line":1,"column":2151}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":79,"column":0},"generated":{"line":1,"column":2153}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":79,"column":0},"generated":{"line":1,"column":2155}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":79,"column":0},"generated":{"line":1,"column":2162}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":79,"column":0},"generated":{"line":1,"column":2165}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":87,"column":0},"generated":{"line":1,"column":2168}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":87,"column":0},"generated":{"line":1,"column":2171}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":87,"column":0},"generated":{"line":1,"column":2176}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":87,"column":0},"generated":{"line":1,"column":2183}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":88,"column":0},"generated":{"line":1,"column":2185}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":88,"column":0},"generated":{"line":1,"column":2192}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":88,"column":0},"generated":{"line":1,"column":2197}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":196,"column":0},"generated":{"line":1,"column":2203}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":190,"column":0},"generated":{"line":1,"column":2210}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":190,"column":0},"generated":{"line":1,"column":2215}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":190,"column":0},"generated":{"line":1,"column":2222}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":190,"column":0},"generated":{"line":1,"column":2227}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":190,"column":0},"generated":{"line":1,"column":2234}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":191,"column":0},"generated":{"line":1,"column":2236}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":191,"column":0},"generated":{"line":1,"column":2241}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":191,"column":0},"generated":{"line":1,"column":2247}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":191,"column":0},"generated":{"line":1,"column":2252}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":191,"column":0},"generated":{"line":1,"column":2258}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":191,"column":0},"generated":{"line":1,"column":2263}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":192,"column":0},"generated":{"line":1,"column":2274}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":95,"column":0},"generated":{"line":1,"column":2281}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":101,"column":0},"generated":{"line":1,"column":2292}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":101,"column":0},"generated":{"line":1,"column":2295}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":101,"column":0},"generated":{"line":1,"column":2297}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":102,"column":0},"generated":{"line":1,"column":2306}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":102,"column":0},"generated":{"line":1,"column":2313}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":102,"column":0},"generated":{"line":1,"column":2315}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":105,"column":0},"generated":{"line":1,"column":2337}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":106,"column":0},"generated":{"line":1,"column":2341}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":105,"column":0},"generated":{"line":1,"column":2343}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":105,"column":0},"generated":{"line":1,"column":2346}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":114,"column":0},"generated":{"line":1,"column":2348}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":114,"column":0},"generated":{"line":1,"column":2350}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":114,"column":0},"generated":{"line":1,"column":2354}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":114,"column":0},"generated":{"line":1,"column":2362}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":114,"column":0},"generated":{"line":1,"column":2371}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":115,"column":0},"generated":{"line":1,"column":2374}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":115,"column":0},"generated":{"line":1,"column":2376}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":116,"column":0},"generated":{"line":1,"column":2387}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":116,"column":0},"generated":{"line":1,"column":2390}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":117,"column":0},"generated":{"line":1,"column":2392}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":120,"column":0},"generated":{"line":1,"column":2399}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":120,"column":0},"generated":{"line":1,"column":2401}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":122,"column":0},"generated":{"line":1,"column":2404}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":122,"column":0},"generated":{"line":1,"column":2406}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":122,"column":0},"generated":{"line":1,"column":2415}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2418}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2429}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2431}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2440}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2442}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2449}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2451}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2459}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2461}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2466}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":126,"column":0},"generated":{"line":1,"column":2469}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":126,"column":0},"generated":{"line":1,"column":2479}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":126,"column":0},"generated":{"line":1,"column":2481}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":128,"column":0},"generated":{"line":1,"column":2489}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":128,"column":0},"generated":{"line":1,"column":2491}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":128,"column":0},"generated":{"line":1,"column":2497}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":128,"column":0},"generated":{"line":1,"column":2499}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":133,"column":0},"generated":{"line":1,"column":2506}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":137,"column":0},"generated":{"line":1,"column":2510}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":137,"column":0},"generated":{"line":1,"column":2519}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":137,"column":0},"generated":{"line":1,"column":2521}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":139,"column":0},"generated":{"line":1,"column":2530}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2534}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2536}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2547}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2552}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2554}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2571}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2588}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2599}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2602}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2606}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2608}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2610}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2612}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2614}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2623}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2636}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2638}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":158,"column":0},"generated":{"line":1,"column":2647}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":187,"column":0},"generated":{"line":1,"column":2660}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":160,"column":0},"generated":{"line":1,"column":2667}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":160,"column":0},"generated":{"line":1,"column":2669}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":160,"column":0},"generated":{"line":1,"column":2671}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":161,"column":0},"generated":{"line":1,"column":2680}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":161,"column":0},"generated":{"line":1,"column":2685}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2696}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2703}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2711}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2716}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2718}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2720}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2722}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2729}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2732}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2734}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":162,"column":0},"generated":{"line":1,"column":2739}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":163,"column":0},"generated":{"line":1,"column":2750}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":163,"column":0},"generated":{"line":1,"column":2757}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":163,"column":0},"generated":{"line":1,"column":2765}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":163,"column":0},"generated":{"line":1,"column":2772}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":163,"column":0},"generated":{"line":1,"column":2776}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":166,"column":0},"generated":{"line":1,"column":2789}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":166,"column":0},"generated":{"line":1,"column":2794}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":167,"column":0},"generated":{"line":1,"column":2805}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":167,"column":0},"generated":{"line":1,"column":2812}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":167,"column":0},"generated":{"line":1,"column":2814}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":167,"column":0},"generated":{"line":1,"column":2816}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":169,"column":0},"generated":{"line":1,"column":2827}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":169,"column":0},"generated":{"line":1,"column":2832}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2843}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2850}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2858}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2863}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2865}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2867}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2869}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2876}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2879}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2881}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":170,"column":0},"generated":{"line":1,"column":2886}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":171,"column":0},"generated":{"line":1,"column":2897}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":171,"column":0},"generated":{"line":1,"column":2904}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":171,"column":0},"generated":{"line":1,"column":2912}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":171,"column":0},"generated":{"line":1,"column":2919}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":171,"column":0},"generated":{"line":1,"column":2923}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":173,"column":0},"generated":{"line":1,"column":2936}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":173,"column":0},"generated":{"line":1,"column":2942}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":173,"column":0},"generated":{"line":1,"column":2956}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":173,"column":0},"generated":{"line":1,"column":2961}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":176,"column":0},"generated":{"line":1,"column":2972}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":174,"column":0},"generated":{"line":1,"column":2979}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":174,"column":0},"generated":{"line":1,"column":2981}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":174,"column":0},"generated":{"line":1,"column":2998}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":174,"column":0},"generated":{"line":1,"column":3018}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":174,"column":0},"generated":{"line":1,"column":3029}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":176,"column":0},"generated":{"line":1,"column":3033}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":178,"column":0},"generated":{"line":1,"column":3036}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":178,"column":0},"generated":{"line":1,"column":3038}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":178,"column":0},"generated":{"line":1,"column":3041}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":178,"column":0},"generated":{"line":1,"column":3046}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":179,"column":0},"generated":{"line":1,"column":3057}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":179,"column":0},"generated":{"line":1,"column":3064}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":192,"column":0},"generated":{"line":1,"column":3070}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":193,"column":0},"generated":{"line":1,"column":3075}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":193,"column":0},"generated":{"line":1,"column":3080}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":194,"column":0},"generated":{"line":1,"column":3091}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":194,"column":0},"generated":{"line":1,"column":3093}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":194,"column":0},"generated":{"line":1,"column":3100}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":194,"column":0},"generated":{"line":1,"column":3102}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":194,"column":0},"generated":{"line":1,"column":3109}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":196,"column":0},"generated":{"line":1,"column":3113}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":196,"column":0},"generated":{"line":1,"column":3118}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":196,"column":0},"generated":{"line":1,"column":3124}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":196,"column":0},"generated":{"line":1,"column":3129}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":197,"column":0},"generated":{"line":1,"column":3140}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":197,"column":0},"generated":{"line":1,"column":3147}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":197,"column":0},"generated":{"line":1,"column":3149}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":200,"column":0},"generated":{"line":1,"column":3161}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":200,"column":0},"generated":{"line":1,"column":3177}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":207,"column":0},"generated":{"line":1,"column":3188}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":203,"column":0},"generated":{"line":1,"column":3195}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":203,"column":0},"generated":{"line":1,"column":3200}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":204,"column":0},"generated":{"line":1,"column":3207}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":204,"column":0},"generated":{"line":1,"column":3212}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":204,"column":0},"generated":{"line":1,"column":3217}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":204,"column":0},"generated":{"line":1,"column":3219}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":207,"column":0},"generated":{"line":1,"column":3226}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":207,"column":0},"generated":{"line":1,"column":3231}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":210,"column":0},"generated":{"line":1,"column":3237}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":210,"column":0},"generated":{"line":1,"column":3253}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":211,"column":0},"generated":{"line":1,"column":3256}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":211,"column":0},"generated":{"line":1,"column":3261}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":211,"column":0},"generated":{"line":1,"column":3266}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":214,"column":0},"generated":{"line":1,"column":3269}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":214,"column":0},"generated":{"line":1,"column":3273}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":215,"column":0},"generated":{"line":1,"column":3284}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":215,"column":0},"generated":{"line":1,"column":3288}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":215,"column":0},"generated":{"line":1,"column":3290}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":235,"column":0},"generated":{"line":1,"column":3295}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":217,"column":0},"generated":{"line":1,"column":3302}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":217,"column":0},"generated":{"line":1,"column":3307}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":217,"column":0},"generated":{"line":1,"column":3314}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":217,"column":0},"generated":{"line":1,"column":3322}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":217,"column":0},"generated":{"line":1,"column":3331}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":218,"column":0},"generated":{"line":1,"column":3334}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":218,"column":0},"generated":{"line":1,"column":3341}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":218,"column":0},"generated":{"line":1,"column":3343}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":218,"column":0},"generated":{"line":1,"column":3360}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":218,"column":0},"generated":{"line":1,"column":3380}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":218,"column":0},"generated":{"line":1,"column":3391}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":221,"column":0},"generated":{"line":1,"column":3396}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":221,"column":0},"generated":{"line":1,"column":3401}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":221,"column":0},"generated":{"line":1,"column":3408}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":223,"column":0},"generated":{"line":1,"column":3411}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":223,"column":0},"generated":{"line":1,"column":3416}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":223,"column":0},"generated":{"line":1,"column":3421}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":223,"column":0},"generated":{"line":1,"column":3429}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":223,"column":0},"generated":{"line":1,"column":3438}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":224,"column":0},"generated":{"line":1,"column":3441}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":224,"column":0},"generated":{"line":1,"column":3448}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":224,"column":0},"generated":{"line":1,"column":3450}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":227,"column":0},"generated":{"line":1,"column":3461}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":227,"column":0},"generated":{"line":1,"column":3466}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":227,"column":0},"generated":{"line":1,"column":3471}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":229,"column":0},"generated":{"line":1,"column":3474}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":229,"column":0},"generated":{"line":1,"column":3479}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":230,"column":0},"generated":{"line":1,"column":3490}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":230,"column":0},"generated":{"line":1,"column":3495}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":230,"column":0},"generated":{"line":1,"column":3506}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":231,"column":0},"generated":{"line":1,"column":3508}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":231,"column":0},"generated":{"line":1,"column":3513}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":231,"column":0},"generated":{"line":1,"column":3523}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":234,"column":0},"generated":{"line":1,"column":3526}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":234,"column":0},"generated":{"line":1,"column":3531}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":234,"column":0},"generated":{"line":1,"column":3539}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":235,"column":0},"generated":{"line":1,"column":3541}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":235,"column":0},"generated":{"line":1,"column":3543}},{"source":"node_modules/broadcast-channel/dist/lib/leader-election.js","original":{"line":235,"column":0},"generated":{"line":1,"column":3548}}],"sources":{"node_modules/broadcast-channel/dist/lib/leader-election.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.beLeader = beLeader;\nexports.createLeaderElection = createLeaderElection;\n\nvar _util = require(\"./util.js\");\n\nvar _unload = require(\"unload\");\n\nvar LeaderElection = function LeaderElection(broadcastChannel, options) {\n  var _this = this;\n\n  this.broadcastChannel = broadcastChannel;\n  this._options = options;\n  this.isLeader = false;\n  this.hasLeader = false;\n  this.isDead = false;\n  this.token = (0, _util.randomToken)();\n  /**\n   * Apply Queue,\n   * used to ensure we do not run applyOnce()\n   * in parallel.\n   */\n\n  this._aplQ = _util.PROMISE_RESOLVED_VOID; // amount of unfinished applyOnce() calls\n\n  this._aplQC = 0; // things to clean up\n\n  this._unl = []; // _unloads\n\n  this._lstns = []; // _listeners\n\n  this._dpL = function () {}; // onduplicate listener\n\n\n  this._dpLC = false; // true when onduplicate called\n\n  /**\n   * Even when the own instance is not applying,\n   * we still listen to messages to ensure the hasLeader flag\n   * is set correctly.\n   */\n\n  var hasLeaderListener = function hasLeaderListener(msg) {\n    if (msg.context === 'leader') {\n      if (msg.action === 'death') {\n        _this.hasLeader = false;\n      }\n\n      if (msg.action === 'tell') {\n        _this.hasLeader = true;\n      }\n    }\n  };\n\n  this.broadcastChannel.addEventListener('internal', hasLeaderListener);\n\n  this._lstns.push(hasLeaderListener);\n};\n\nLeaderElection.prototype = {\n  /**\n   * Returns true if the instance is leader,\n   * false if not.\n   * @async\n   */\n  applyOnce: function applyOnce( // true if the applyOnce() call came from the fallbackInterval cycle\n  isFromFallbackInterval) {\n    var _this2 = this;\n\n    if (this.isLeader) {\n      return (0, _util.sleep)(0, true);\n    }\n\n    if (this.isDead) {\n      return (0, _util.sleep)(0, false);\n    }\n    /**\n     * Already applying more then once,\n     * -> wait for the apply queue to be finished.\n     */\n\n\n    if (this._aplQC > 1) {\n      return this._aplQ;\n    }\n    /**\n     * Add a new apply-run\n     */\n\n\n    var applyRun = function applyRun() {\n      /**\n       * Optimization shortcuts.\n       * Directly return if a previous run\n       * has already elected a leader.\n       */\n      if (_this2.isLeader) {\n        return _util.PROMISE_RESOLVED_TRUE;\n      }\n\n      var stopCriteria = false;\n      var stopCriteriaPromiseResolve;\n      /**\n       * Resolves when a stop criteria is reached.\n       * Uses as a performance shortcut so we do not\n       * have to await the responseTime when it is already clear\n       * that the election failed.\n       */\n\n      var stopCriteriaPromise = new Promise(function (res) {\n        stopCriteriaPromiseResolve = function stopCriteriaPromiseResolve() {\n          stopCriteria = true;\n          res();\n        };\n      });\n      var recieved = [];\n\n      var handleMessage = function handleMessage(msg) {\n        if (msg.context === 'leader' && msg.token != _this2.token) {\n          recieved.push(msg);\n\n          if (msg.action === 'apply') {\n            // other is applying\n            if (msg.token > _this2.token) {\n              /**\n               * other has higher token\n               * -> stop applying and let other become leader.\n               */\n              stopCriteriaPromiseResolve();\n            }\n          }\n\n          if (msg.action === 'tell') {\n            // other is already leader\n            stopCriteriaPromiseResolve();\n            _this2.hasLeader = true;\n          }\n        }\n      };\n\n      _this2.broadcastChannel.addEventListener('internal', handleMessage);\n      /**\n       * If the applyOnce() call came from the fallbackInterval,\n       * we can assume that the election runs in the background and\n       * not critical process is waiting for it.\n       * When this is true, we give the other intances\n       * more time to answer to messages in the election cycle.\n       * This makes it less likely to elect duplicate leaders.\n       * But also it takes longer which is not a problem because we anyway\n       * run in the background.\n       */\n\n\n      var waitForAnswerTime = isFromFallbackInterval ? _this2._options.responseTime * 4 : _this2._options.responseTime;\n\n      var applyPromise = _sendMessage(_this2, 'apply') // send out that this one is applying\n      .then(function () {\n        return Promise.race([(0, _util.sleep)(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      }) // send again in case another instance was just created\n      .then(function () {\n        return _sendMessage(_this2, 'apply');\n      }) // let others time to respond\n      .then(function () {\n        return Promise.race([(0, _util.sleep)(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      })[\"catch\"](function () {}).then(function () {\n        _this2.broadcastChannel.removeEventListener('internal', handleMessage);\n\n        if (!stopCriteria) {\n          // no stop criteria -> own is leader\n          return beLeader(_this2).then(function () {\n            return true;\n          });\n        } else {\n          // other is leader\n          return false;\n        }\n      });\n\n      return applyPromise;\n    };\n\n    this._aplQC = this._aplQC + 1;\n    this._aplQ = this._aplQ.then(function () {\n      return applyRun();\n    }).then(function () {\n      _this2._aplQC = _this2._aplQC - 1;\n    });\n    return this._aplQ.then(function () {\n      return _this2.isLeader;\n    });\n  },\n  awaitLeadership: function awaitLeadership() {\n    if (\n    /* _awaitLeadershipPromise */\n    !this._aLP) {\n      this._aLP = _awaitLeadershipOnce(this);\n    }\n\n    return this._aLP;\n  },\n\n  set onduplicate(fn) {\n    this._dpL = fn;\n  },\n\n  die: function die() {\n    var _this3 = this;\n\n    this._lstns.forEach(function (listener) {\n      return _this3.broadcastChannel.removeEventListener('internal', listener);\n    });\n\n    this._lstns = [];\n\n    this._unl.forEach(function (uFn) {\n      return uFn.remove();\n    });\n\n    this._unl = [];\n\n    if (this.isLeader) {\n      this.hasLeader = false;\n      this.isLeader = false;\n    }\n\n    this.isDead = true;\n    return _sendMessage(this, 'death');\n  }\n};\n/**\n * @param leaderElector {LeaderElector}\n */\n\nfunction _awaitLeadershipOnce(leaderElector) {\n  if (leaderElector.isLeader) {\n    return _util.PROMISE_RESOLVED_VOID;\n  }\n\n  return new Promise(function (res) {\n    var resolved = false;\n\n    function finish() {\n      if (resolved) {\n        return;\n      }\n\n      resolved = true;\n      leaderElector.broadcastChannel.removeEventListener('internal', whenDeathListener);\n      res(true);\n    } // try once now\n\n\n    leaderElector.applyOnce().then(function () {\n      if (leaderElector.isLeader) {\n        finish();\n      }\n    });\n    /**\n     * Try on fallbackInterval\n     * @recursive\n     */\n\n    var tryOnFallBack = function tryOnFallBack() {\n      return (0, _util.sleep)(leaderElector._options.fallbackInterval).then(function () {\n        if (leaderElector.isDead || resolved) {\n          return;\n        }\n\n        if (leaderElector.isLeader) {\n          finish();\n        } else {\n          return leaderElector.applyOnce(true).then(function () {\n            if (leaderElector.isLeader) {\n              finish();\n            } else {\n              tryOnFallBack();\n            }\n          });\n        }\n      });\n    };\n\n    tryOnFallBack(); // try when other leader dies\n\n    var whenDeathListener = function whenDeathListener(msg) {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector.hasLeader = false;\n        leaderElector.applyOnce().then(function () {\n          if (leaderElector.isLeader) {\n            finish();\n          }\n        });\n      }\n    };\n\n    leaderElector.broadcastChannel.addEventListener('internal', whenDeathListener);\n\n    leaderElector._lstns.push(whenDeathListener);\n  });\n}\n/**\n * sends and internal message over the broadcast-channel\n */\n\n\nfunction _sendMessage(leaderElector, action) {\n  var msgJson = {\n    context: 'leader',\n    action: action,\n    token: leaderElector.token\n  };\n  return leaderElector.broadcastChannel.postInternal(msgJson);\n}\n\nfunction beLeader(leaderElector) {\n  leaderElector.isLeader = true;\n  leaderElector.hasLeader = true;\n  var unloadFn = (0, _unload.add)(function () {\n    return leaderElector.die();\n  });\n\n  leaderElector._unl.push(unloadFn);\n\n  var isLeaderListener = function isLeaderListener(msg) {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      _sendMessage(leaderElector, 'tell');\n    }\n\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._dpLC) {\n      /**\n       * another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       * @link https://github.com/pubkey/broadcast-channel/issues/414\n       * @link https://github.com/pubkey/broadcast-channel/issues/385\n       */\n      leaderElector._dpLC = true;\n\n      leaderElector._dpL(); // message the lib user so the app can handle the problem\n\n\n      _sendMessage(leaderElector, 'tell'); // ensure other leader also knows the problem\n\n    }\n  };\n\n  leaderElector.broadcastChannel.addEventListener('internal', isLeaderListener);\n\n  leaderElector._lstns.push(isLeaderListener);\n\n  return _sendMessage(leaderElector, 'tell');\n}\n\nfunction fillOptionsWithDefaults(options, channel) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options));\n\n  if (!options.fallbackInterval) {\n    options.fallbackInterval = 3000;\n  }\n\n  if (!options.responseTime) {\n    options.responseTime = channel.method.averageResponseTime(channel.options);\n  }\n\n  return options;\n}\n\nfunction createLeaderElection(channel, options) {\n  if (channel._leaderElector) {\n    throw new Error('BroadcastChannel already has a leader-elector');\n  }\n\n  options = fillOptionsWithDefaults(options, channel);\n  var elector = new LeaderElection(channel, options);\n\n  channel._befC.push(function () {\n    return elector.die();\n  });\n\n  channel._leaderElector = elector;\n  return elector;\n}"},"lineCount":null}},"error":null,"hash":"09d00f7eb87cd04afd87f0eecf6c2e93","cacheData":{"env":{}}}