{"id":"jTBF","dependencies":[{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\encryption.js.map","includedInParent":true,"mtime":1648301042721},{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\package.json","includedInParent":true,"mtime":1648301114916},{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\package.json","includedInParent":true,"mtime":1648301042595},{"name":"tweetnacl","loc":{"line":23,"column":34,"index":1095},"parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\encryption.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\node_modules\\tweetnacl\\nacl-fast.js"},{"name":"tweetnacl-util","loc":{"line":24,"column":38,"index":1148},"parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\encryption.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\tweetnacl-util\\nacl-util.js"},{"name":"./utils","loc":{"line":25,"column":24,"index":1192},"parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\encryption.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\utils.js"},{"name":"buffer","parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\encryption.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\buffer\\index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var t=this&&this.__createBinding||(Object.create?function(e,r,t,o){void 0===o&&(o=t),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,\"default\",{enumerable:!0,value:r})}:function(e,r){e.default=r}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return o(r,e),r};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getEncryptionPublicKey=exports.decryptSafely=exports.decrypt=exports.encryptSafely=exports.encrypt=void 0;var n=i(require(\"tweetnacl\")),a=i(require(\"tweetnacl-util\")),s=require(\"./utils\");function c(e){var r=e.publicKey,t=e.data,o=e.version;if(s.isNullish(r))throw new Error(\"Missing publicKey parameter\");if(s.isNullish(t))throw new Error(\"Missing data parameter\");if(s.isNullish(o))throw new Error(\"Missing version parameter\");switch(o){case\"x25519-xsalsa20-poly1305\":if(\"string\"!=typeof t)throw new Error(\"Message data must be given as a string\");var i,c=n.box.keyPair();try{i=a.decodeBase64(r)}catch(l){throw new Error(\"Bad public key\")}var p=a.decodeUTF8(t),y=n.randomBytes(n.box.nonceLength),u=n.box(p,y,i,c.secretKey);return{version:\"x25519-xsalsa20-poly1305\",nonce:a.encodeBase64(y),ephemPublicKey:a.encodeBase64(c.publicKey),ciphertext:a.encodeBase64(u)};default:throw new Error(\"Encryption type/version not supported\")}}function p(t){var o=t.publicKey,i=t.data,n=t.version;if(s.isNullish(o))throw new Error(\"Missing publicKey parameter\");if(s.isNullish(i))throw new Error(\"Missing data parameter\");if(s.isNullish(n))throw new Error(\"Missing version parameter\");var a=Math.pow(2,11);if(\"object\"===r(i)&&\"toJSON\"in i)throw new Error(\"Cannot encrypt with toJSON property.  Please remove toJSON property\");var p={data:i,padding:\"\"},y=e.byteLength(JSON.stringify(p),\"utf-8\")%a,u=0;return y>0&&(u=a-y-16),p.padding=\"0\".repeat(u),c({publicKey:o,data:JSON.stringify(p),version:n})}function y(e){var r=e.encryptedData,t=e.privateKey;if(s.isNullish(r))throw new Error(\"Missing encryptedData parameter\");if(s.isNullish(t))throw new Error(\"Missing privateKey parameter\");switch(r.version){case\"x25519-xsalsa20-poly1305\":var o,i=f(t),c=n.box.keyPair.fromSecretKey(i).secretKey,p=a.decodeBase64(r.nonce),y=a.decodeBase64(r.ciphertext),u=a.decodeBase64(r.ephemPublicKey),l=n.box.open(y,p,u,c);try{o=a.encodeUTF8(l)}catch(d){throw new Error(\"Decryption failed.\")}if(o)return o;throw new Error(\"Decryption failed.\");default:throw new Error(\"Encryption type/version not supported.\")}}function u(e){var r=e.encryptedData,t=e.privateKey;if(s.isNullish(r))throw new Error(\"Missing encryptedData parameter\");if(s.isNullish(t))throw new Error(\"Missing privateKey parameter\");return JSON.parse(y({encryptedData:r,privateKey:t})).data}function l(e){var r=f(e),t=n.box.keyPair.fromSecretKey(r).publicKey;return a.encodeBase64(t)}function f(r){var t=e.from(r,\"hex\").toString(\"base64\");return a.decodeBase64(t)}exports.encrypt=c,exports.encryptSafely=p,exports.decrypt=y,exports.decryptSafely=u,exports.getEncryptionPublicKey=l;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":0}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":4}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":6}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":14}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":24}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":31}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":40}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":42}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":45}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":52}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":54}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":73}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":81}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":98}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":105}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":114}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":123}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":126}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":140}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":143}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":152}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":155}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":162}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":165}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":184}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":192}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":194}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":208}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":216}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":220}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":227}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":237}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":253}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":257}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":260}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":264}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":266}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":272}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":277}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":295}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":302}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":309}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":318}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":320}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":322}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":324}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":332}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":336}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":340}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":342}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":345}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":352}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":367}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":369}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":371}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":372}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":384}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":386}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":390}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":401}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":408}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":410}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":417}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":426}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":428}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":430}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":432}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":440}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":444}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":448}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":450}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":453}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":455}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":458}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":460}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":465}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":467}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":473}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":478}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":499}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":506}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":513}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":522}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":524}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":527}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":534}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":549}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":551}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":561}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":562}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":574}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":576}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":582}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":587}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":596}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":598}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":601}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":603}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":611}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":615}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":617}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":623}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":628}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":642}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":651}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":654}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":657}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":660}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":662}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":673}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":680}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":682}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":686}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":688}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":691}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":694}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":700}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":702}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":706}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":710}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":715}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":717}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":729}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":732}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":739}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":749}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":764}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":769}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":771}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":775}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":777}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":779}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":781}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":784}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":791}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":793}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":795}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":798}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":801}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":808}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":823}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":831}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":844}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":845}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":852}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":856}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":864}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":887}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":895}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":909}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":917}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":925}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":933}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":947}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":955}},{"source":"../src/encryption.ts","name":null,"original":{"line":255,"column":1},"generated":{"line":2,"column":968}},{"source":"../src/encryption.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":970}},{"source":"../src/encryption.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":974}},{"source":"../src/encryption.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":976}},{"source":"../src/encryption.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":978}},{"source":"../src/encryption.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":986}},{"source":"../src/encryption.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":1000}},{"source":"../src/encryption.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":1002}},{"source":"../src/encryption.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":1004}},{"source":"../src/encryption.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":1012}},{"source":"../src/encryption.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":1031}},{"source":"../src/encryption.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":1033}},{"source":"../src/encryption.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":1041}},{"source":"../src/encryption.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":2,"column":1052}},{"source":"../src/encryption.ts","name":null,"original":{"line":22,"column":16},"generated":{"line":2,"column":1061}},{"source":"../src/encryption.ts","name":null,"original":{"line":30,"column":1},"generated":{"line":2,"column":1063}},{"source":"../src/encryption.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":2,"column":1066}},{"source":"../src/encryption.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":2,"column":1070}},{"source":"../src/encryption.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":2,"column":1072}},{"source":"../src/encryption.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":2,"column":1074}},{"source":"../src/encryption.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":2,"column":1084}},{"source":"../src/encryption.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":2,"column":1086}},{"source":"../src/encryption.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":2,"column":1088}},{"source":"../src/encryption.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":2,"column":1093}},{"source":"../src/encryption.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":2,"column":1095}},{"source":"../src/encryption.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":2,"column":1097}},{"source":"../src/encryption.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":2,"column":1105}},{"source":"../src/encryption.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":2,"column":1108}},{"source":"../src/encryption.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":2,"column":1110}},{"source":"../src/encryption.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":2,"column":1120}},{"source":"../src/encryption.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":2,"column":1123}},{"source":"../src/encryption.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":2,"column":1129}},{"source":"../src/encryption.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":2,"column":1133}},{"source":"../src/encryption.ts","name":null,"original":{"line":32,"column":20},"generated":{"line":2,"column":1139}},{"source":"../src/encryption.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":2,"column":1170}},{"source":"../src/encryption.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":2,"column":1173}},{"source":"../src/encryption.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":2,"column":1175}},{"source":"../src/encryption.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":2,"column":1185}},{"source":"../src/encryption.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":2,"column":1188}},{"source":"../src/encryption.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":2,"column":1194}},{"source":"../src/encryption.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":2,"column":1198}},{"source":"../src/encryption.ts","name":null,"original":{"line":34,"column":20},"generated":{"line":2,"column":1204}},{"source":"../src/encryption.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":2,"column":1230}},{"source":"../src/encryption.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":2,"column":1233}},{"source":"../src/encryption.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":2,"column":1235}},{"source":"../src/encryption.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":2,"column":1245}},{"source":"../src/encryption.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":2,"column":1248}},{"source":"../src/encryption.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":2,"column":1254}},{"source":"../src/encryption.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":2,"column":1258}},{"source":"../src/encryption.ts","name":null,"original":{"line":36,"column":20},"generated":{"line":2,"column":1264}},{"source":"../src/encryption.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":2,"column":1293}},{"source":"../src/encryption.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":2,"column":1300}},{"source":"../src/encryption.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":2,"column":1303}},{"source":"../src/encryption.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":2,"column":1307}},{"source":"../src/encryption.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":2,"column":1334}},{"source":"../src/encryption.ts","name":null,"original":{"line":41,"column":26},"generated":{"line":2,"column":1337}},{"source":"../src/encryption.ts","name":null,"original":{"line":41,"column":17},"generated":{"line":2,"column":1354}},{"source":"../src/encryption.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":2,"column":1356}},{"source":"../src/encryption.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":2,"column":1362}},{"source":"../src/encryption.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":2,"column":1366}},{"source":"../src/encryption.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":2,"column":1372}},{"source":"../src/encryption.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":2,"column":1414}},{"source":"../src/encryption.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":2,"column":1418}},{"source":"../src/encryption.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":2,"column":1420}},{"source":"../src/encryption.ts","name":null,"original":{"line":45,"column":31},"generated":{"line":2,"column":1422}},{"source":"../src/encryption.ts","name":null,"original":{"line":45,"column":36},"generated":{"line":2,"column":1424}},{"source":"../src/encryption.ts","name":null,"original":{"line":45,"column":40},"generated":{"line":2,"column":1428}},{"source":"../src/encryption.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":2,"column":1438}},{"source":"../src/encryption.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":2,"column":1442}},{"source":"../src/encryption.ts","name":null,"original":{"line":50,"column":27},"generated":{"line":2,"column":1444}},{"source":"../src/encryption.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":2,"column":1446}},{"source":"../src/encryption.ts","name":null,"original":{"line":50,"column":49},"generated":{"line":2,"column":1459}},{"source":"../src/encryption.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":2,"column":1462}},{"source":"../src/encryption.ts","name":null,"original":{"line":51,"column":15},"generated":{"line":2,"column":1468}},{"source":"../src/encryption.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":2,"column":1471}},{"source":"../src/encryption.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":2,"column":1477}},{"source":"../src/encryption.ts","name":null,"original":{"line":52,"column":18},"generated":{"line":2,"column":1481}},{"source":"../src/encryption.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":2,"column":1487}},{"source":"../src/encryption.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":2,"column":1505}},{"source":"../src/encryption.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":2,"column":1509}},{"source":"../src/encryption.ts","name":null,"original":{"line":55,"column":34},"generated":{"line":2,"column":1511}},{"source":"../src/encryption.ts","name":null,"original":{"line":55,"column":43},"generated":{"line":2,"column":1513}},{"source":"../src/encryption.ts","name":null,"original":{"line":55,"column":54},"generated":{"line":2,"column":1524}},{"source":"../src/encryption.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":2,"column":1527}},{"source":"../src/encryption.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":2,"column":1529}},{"source":"../src/encryption.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":2,"column":1531}},{"source":"../src/encryption.ts","name":null,"original":{"line":56,"column":37},"generated":{"line":2,"column":1543}},{"source":"../src/encryption.ts","name":null,"original":{"line":56,"column":42},"generated":{"line":2,"column":1545}},{"source":"../src/encryption.ts","name":null,"original":{"line":56,"column":46},"generated":{"line":2,"column":1549}},{"source":"../src/encryption.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":2,"column":1562}},{"source":"../src/encryption.ts","name":null,"original":{"line":59,"column":31},"generated":{"line":2,"column":1564}},{"source":"../src/encryption.ts","name":null,"original":{"line":59,"column":36},"generated":{"line":2,"column":1566}},{"source":"../src/encryption.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":2,"column":1570}},{"source":"../src/encryption.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":2,"column":1572}},{"source":"../src/encryption.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":2,"column":1574}},{"source":"../src/encryption.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":2,"column":1576}},{"source":"../src/encryption.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":2,"column":1578}},{"source":"../src/encryption.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":2,"column":1589}},{"source":"../src/encryption.ts","name":null,"original":{"line":67,"column":21},"generated":{"line":2,"column":1595}},{"source":"../src/encryption.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":2,"column":1596}},{"source":"../src/encryption.ts","name":null,"original":{"line":68,"column":17},"generated":{"line":2,"column":1604}},{"source":"../src/encryption.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":2,"column":1631}},{"source":"../src/encryption.ts","name":null,"original":{"line":69,"column":15},"generated":{"line":2,"column":1637}},{"source":"../src/encryption.ts","name":null,"original":{"line":69,"column":24},"generated":{"line":2,"column":1639}},{"source":"../src/encryption.ts","name":null,"original":{"line":69,"column":37},"generated":{"line":2,"column":1652}},{"source":"../src/encryption.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":2,"column":1655}},{"source":"../src/encryption.ts","name":null,"original":{"line":70,"column":24},"generated":{"line":2,"column":1670}},{"source":"../src/encryption.ts","name":null,"original":{"line":70,"column":33},"generated":{"line":2,"column":1672}},{"source":"../src/encryption.ts","name":null,"original":{"line":70,"column":46},"generated":{"line":2,"column":1685}},{"source":"../src/encryption.ts","name":null,"original":{"line":70,"column":63},"generated":{"line":2,"column":1687}},{"source":"../src/encryption.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":2,"column":1698}},{"source":"../src/encryption.ts","name":null,"original":{"line":71,"column":20},"generated":{"line":2,"column":1709}},{"source":"../src/encryption.ts","name":null,"original":{"line":71,"column":29},"generated":{"line":2,"column":1711}},{"source":"../src/encryption.ts","name":null,"original":{"line":71,"column":42},"generated":{"line":2,"column":1724}},{"source":"../src/encryption.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":2,"column":1728}},{"source":"../src/encryption.ts","name":null,"original":{"line":78,"column":12},"generated":{"line":2,"column":1736}},{"source":"../src/encryption.ts","name":null,"original":{"line":78,"column":12},"generated":{"line":2,"column":1742}},{"source":"../src/encryption.ts","name":null,"original":{"line":78,"column":16},"generated":{"line":2,"column":1746}},{"source":"../src/encryption.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":2,"column":1752}},{"source":"../src/encryption.ts","name":null,"original":{"line":94,"column":0},"generated":{"line":2,"column":1794}},{"source":"../src/encryption.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":2,"column":1803}},{"source":"../src/encryption.ts","name":null,"original":{"line":102,"column":1},"generated":{"line":2,"column":1805}},{"source":"../src/encryption.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":2,"column":1808}},{"source":"../src/encryption.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":2,"column":1812}},{"source":"../src/encryption.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":2,"column":1814}},{"source":"../src/encryption.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":2,"column":1816}},{"source":"../src/encryption.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":2,"column":1826}},{"source":"../src/encryption.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":2,"column":1828}},{"source":"../src/encryption.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":2,"column":1830}},{"source":"../src/encryption.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":2,"column":1835}},{"source":"../src/encryption.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":2,"column":1837}},{"source":"../src/encryption.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":2,"column":1839}},{"source":"../src/encryption.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":2,"column":1847}},{"source":"../src/encryption.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":2,"column":1850}},{"source":"../src/encryption.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":2,"column":1852}},{"source":"../src/encryption.ts","name":null,"original":{"line":103,"column":16},"generated":{"line":2,"column":1862}},{"source":"../src/encryption.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":2,"column":1865}},{"source":"../src/encryption.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":2,"column":1871}},{"source":"../src/encryption.ts","name":null,"original":{"line":104,"column":14},"generated":{"line":2,"column":1875}},{"source":"../src/encryption.ts","name":null,"original":{"line":104,"column":20},"generated":{"line":2,"column":1881}},{"source":"../src/encryption.ts","name":null,"original":{"line":105,"column":9},"generated":{"line":2,"column":1912}},{"source":"../src/encryption.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":2,"column":1915}},{"source":"../src/encryption.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":2,"column":1917}},{"source":"../src/encryption.ts","name":null,"original":{"line":105,"column":23},"generated":{"line":2,"column":1927}},{"source":"../src/encryption.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":2,"column":1930}},{"source":"../src/encryption.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":2,"column":1936}},{"source":"../src/encryption.ts","name":null,"original":{"line":106,"column":14},"generated":{"line":2,"column":1940}},{"source":"../src/encryption.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":2,"column":1946}},{"source":"../src/encryption.ts","name":null,"original":{"line":107,"column":9},"generated":{"line":2,"column":1972}},{"source":"../src/encryption.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":2,"column":1975}},{"source":"../src/encryption.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":2,"column":1977}},{"source":"../src/encryption.ts","name":null,"original":{"line":107,"column":23},"generated":{"line":2,"column":1987}},{"source":"../src/encryption.ts","name":null,"original":{"line":108,"column":10},"generated":{"line":2,"column":1990}},{"source":"../src/encryption.ts","name":null,"original":{"line":108,"column":10},"generated":{"line":2,"column":1996}},{"source":"../src/encryption.ts","name":null,"original":{"line":108,"column":14},"generated":{"line":2,"column":2000}},{"source":"../src/encryption.ts","name":null,"original":{"line":108,"column":20},"generated":{"line":2,"column":2006}},{"source":"../src/encryption.ts","name":null,"original":{"line":111,"column":8},"generated":{"line":2,"column":2035}},{"source":"../src/encryption.ts","name":null,"original":{"line":111,"column":8},"generated":{"line":2,"column":2039}},{"source":"../src/encryption.ts","name":null,"original":{"line":111,"column":33},"generated":{"line":2,"column":2041}},{"source":"../src/encryption.ts","name":null,"original":{"line":111,"column":33},"generated":{"line":2,"column":2046}},{"source":"../src/encryption.ts","name":null,"original":{"line":111,"column":33},"generated":{"line":2,"column":2050}},{"source":"../src/encryption.ts","name":null,"original":{"line":111,"column":38},"generated":{"line":2,"column":2052}},{"source":"../src/encryption.ts","name":null,"original":{"line":114,"column":6},"generated":{"line":2,"column":2056}},{"source":"../src/encryption.ts","name":null,"original":{"line":114,"column":22},"generated":{"line":2,"column":2059}},{"source":"../src/encryption.ts","name":null,"original":{"line":114,"column":6},"generated":{"line":2,"column":2070}},{"source":"../src/encryption.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":2,"column":2072}},{"source":"../src/encryption.ts","name":null,"original":{"line":114,"column":34},"generated":{"line":2,"column":2076}},{"source":"../src/encryption.ts","name":null,"original":{"line":114,"column":46},"generated":{"line":2,"column":2087}},{"source":"../src/encryption.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":2,"column":2089}},{"source":"../src/encryption.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":2,"column":2095}},{"source":"../src/encryption.ts","name":null,"original":{"line":117,"column":14},"generated":{"line":2,"column":2099}},{"source":"../src/encryption.ts","name":null,"original":{"line":118,"column":6},"generated":{"line":2,"column":2105}},{"source":"../src/encryption.ts","name":null,"original":{"line":123,"column":8},"generated":{"line":2,"column":2176}},{"source":"../src/encryption.ts","name":null,"original":{"line":123,"column":8},"generated":{"line":2,"column":2180}},{"source":"../src/encryption.ts","name":null,"original":{"line":123,"column":26},"generated":{"line":2,"column":2182}},{"source":"../src/encryption.ts","name":null,"original":{"line":124,"column":4},"generated":{"line":2,"column":2183}},{"source":"../src/encryption.ts","name":null,"original":{"line":124,"column":4},"generated":{"line":2,"column":2188}},{"source":"../src/encryption.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":2,"column":2190}},{"source":"../src/encryption.ts","name":null,"original":{"line":125,"column":13},"generated":{"line":2,"column":2198}},{"source":"../src/encryption.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":2,"column":2202}},{"source":"../src/encryption.ts","name":null,"original":{"line":129,"column":21},"generated":{"line":2,"column":2204}},{"source":"../src/encryption.ts","name":null,"original":{"line":129,"column":28},"generated":{"line":2,"column":2206}},{"source":"../src/encryption.ts","name":null,"original":{"line":130,"column":4},"generated":{"line":2,"column":2217}},{"source":"../src/encryption.ts","name":null,"original":{"line":130,"column":9},"generated":{"line":2,"column":2222}},{"source":"../src/encryption.ts","name":null,"original":{"line":130,"column":19},"generated":{"line":2,"column":2232}},{"source":"../src/encryption.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":2,"column":2235}},{"source":"../src/encryption.ts","name":null,"original":{"line":133,"column":30},"generated":{"line":2,"column":2244}},{"source":"../src/encryption.ts","name":null,"original":{"line":134,"column":6},"generated":{"line":2,"column":2246}},{"source":"../src/encryption.ts","name":null,"original":{"line":134,"column":18},"generated":{"line":2,"column":2248}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":9},"generated":{"line":2,"column":2250}},{"source":"../src/encryption.ts","name":null,"original":{"line":136,"column":6},"generated":{"line":2,"column":2257}},{"source":"../src/encryption.ts","name":null,"original":{"line":136,"column":15},"generated":{"line":2,"column":2259}},{"source":"../src/encryption.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":2,"column":2263}},{"source":"../src/encryption.ts","name":null,"original":{"line":137,"column":16},"generated":{"line":2,"column":2265}},{"source":"../src/encryption.ts","name":null,"original":{"line":137,"column":41},"generated":{"line":2,"column":2267}},{"source":"../src/encryption.ts","name":null,"original":{"line":112,"column":27},"generated":{"line":2,"column":2269}},{"source":"../src/encryption.ts","name":null,"original":{"line":139,"column":2},"generated":{"line":2,"column":2273}},{"source":"../src/encryption.ts","name":null,"original":{"line":139,"column":18},"generated":{"line":2,"column":2275}},{"source":"../src/encryption.ts","name":null,"original":{"line":139,"column":28},"generated":{"line":2,"column":2283}},{"source":"../src/encryption.ts","name":null,"original":{"line":139,"column":32},"generated":{"line":2,"column":2287}},{"source":"../src/encryption.ts","name":null,"original":{"line":139,"column":39},"generated":{"line":2,"column":2294}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":9},"generated":{"line":2,"column":2297}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":17},"generated":{"line":2,"column":2299}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":19},"generated":{"line":2,"column":2300}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":19},"generated":{"line":2,"column":2310}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":30},"generated":{"line":2,"column":2312}},{"source":"../src/encryption.ts","name":null,"original":{"line":141,"column":24},"generated":{"line":2,"column":2317}},{"source":"../src/encryption.ts","name":null,"original":{"line":141,"column":29},"generated":{"line":2,"column":2322}},{"source":"../src/encryption.ts","name":null,"original":{"line":141,"column":39},"generated":{"line":2,"column":2332}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":51},"generated":{"line":2,"column":2335}},{"source":"../src/encryption.ts","name":null,"original":{"line":142,"column":51},"generated":{"line":2,"column":2343}},{"source":"../src/encryption.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":2,"column":2347}},{"source":"../src/encryption.ts","name":null,"original":{"line":153,"column":16},"generated":{"line":2,"column":2356}},{"source":"../src/encryption.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":2,"column":2358}},{"source":"../src/encryption.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":2,"column":2361}},{"source":"../src/encryption.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":2,"column":2365}},{"source":"../src/encryption.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":2,"column":2367}},{"source":"../src/encryption.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":2,"column":2369}},{"source":"../src/encryption.ts","name":null,"original":{"line":155,"column":2},"generated":{"line":2,"column":2383}},{"source":"../src/encryption.ts","name":null,"original":{"line":155,"column":2},"generated":{"line":2,"column":2385}},{"source":"../src/encryption.ts","name":null,"original":{"line":155,"column":2},"generated":{"line":2,"column":2387}},{"source":"../src/encryption.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":2,"column":2398}},{"source":"../src/encryption.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":2,"column":2401}},{"source":"../src/encryption.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":2,"column":2403}},{"source":"../src/encryption.ts","name":null,"original":{"line":160,"column":16},"generated":{"line":2,"column":2413}},{"source":"../src/encryption.ts","name":null,"original":{"line":161,"column":10},"generated":{"line":2,"column":2416}},{"source":"../src/encryption.ts","name":null,"original":{"line":161,"column":10},"generated":{"line":2,"column":2422}},{"source":"../src/encryption.ts","name":null,"original":{"line":161,"column":14},"generated":{"line":2,"column":2426}},{"source":"../src/encryption.ts","name":null,"original":{"line":161,"column":20},"generated":{"line":2,"column":2432}},{"source":"../src/encryption.ts","name":null,"original":{"line":162,"column":9},"generated":{"line":2,"column":2467}},{"source":"../src/encryption.ts","name":null,"original":{"line":162,"column":13},"generated":{"line":2,"column":2470}},{"source":"../src/encryption.ts","name":null,"original":{"line":162,"column":13},"generated":{"line":2,"column":2472}},{"source":"../src/encryption.ts","name":null,"original":{"line":162,"column":23},"generated":{"line":2,"column":2482}},{"source":"../src/encryption.ts","name":null,"original":{"line":163,"column":10},"generated":{"line":2,"column":2485}},{"source":"../src/encryption.ts","name":null,"original":{"line":163,"column":10},"generated":{"line":2,"column":2491}},{"source":"../src/encryption.ts","name":null,"original":{"line":163,"column":14},"generated":{"line":2,"column":2495}},{"source":"../src/encryption.ts","name":null,"original":{"line":163,"column":20},"generated":{"line":2,"column":2501}},{"source":"../src/encryption.ts","name":null,"original":{"line":166,"column":10},"generated":{"line":2,"column":2533}},{"source":"../src/encryption.ts","name":null,"original":{"line":166,"column":10},"generated":{"line":2,"column":2540}},{"source":"../src/encryption.ts","name":null,"original":{"line":166,"column":24},"generated":{"line":2,"column":2542}},{"source":"../src/encryption.ts","name":null,"original":{"line":167,"column":9},"generated":{"line":2,"column":2551}},{"source":"../src/encryption.ts","name":null,"original":{"line":167,"column":9},"generated":{"line":2,"column":2555}},{"source":"../src/encryption.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":2,"column":2582}},{"source":"../src/encryption.ts","name":null,"original":{"line":190,"column":10},"generated":{"line":2,"column":2586}},{"source":"../src/encryption.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":2,"column":2588}},{"source":"../src/encryption.ts","name":null,"original":{"line":169,"column":43},"generated":{"line":2,"column":2590}},{"source":"../src/encryption.ts","name":null,"original":{"line":169,"column":58},"generated":{"line":2,"column":2592}},{"source":"../src/encryption.ts","name":null,"original":{"line":170,"column":12},"generated":{"line":2,"column":2595}},{"source":"../src/encryption.ts","name":null,"original":{"line":170,"column":43},"generated":{"line":2,"column":2597}},{"source":"../src/encryption.ts","name":null,"original":{"line":170,"column":48},"generated":{"line":2,"column":2599}},{"source":"../src/encryption.ts","name":null,"original":{"line":170,"column":52},"generated":{"line":2,"column":2603}},{"source":"../src/encryption.ts","name":null,"original":{"line":170,"column":60},"generated":{"line":2,"column":2611}},{"source":"../src/encryption.ts","name":null,"original":{"line":171,"column":8},"generated":{"line":2,"column":2625}},{"source":"../src/encryption.ts","name":null,"original":{"line":172,"column":8},"generated":{"line":2,"column":2628}},{"source":"../src/encryption.ts","name":null,"original":{"line":175,"column":12},"generated":{"line":2,"column":2638}},{"source":"../src/encryption.ts","name":null,"original":{"line":175,"column":20},"generated":{"line":2,"column":2640}},{"source":"../src/encryption.ts","name":null,"original":{"line":175,"column":29},"generated":{"line":2,"column":2642}},{"source":"../src/encryption.ts","name":null,"original":{"line":175,"column":42},"generated":{"line":2,"column":2655}},{"source":"../src/encryption.ts","name":null,"original":{"line":175,"column":56},"generated":{"line":2,"column":2657}},{"source":"../src/encryption.ts","name":null,"original":{"line":176,"column":12},"generated":{"line":2,"column":2664}},{"source":"../src/encryption.ts","name":null,"original":{"line":176,"column":25},"generated":{"line":2,"column":2666}},{"source":"../src/encryption.ts","name":null,"original":{"line":176,"column":34},"generated":{"line":2,"column":2668}},{"source":"../src/encryption.ts","name":null,"original":{"line":176,"column":47},"generated":{"line":2,"column":2681}},{"source":"../src/encryption.ts","name":null,"original":{"line":176,"column":61},"generated":{"line":2,"column":2683}},{"source":"../src/encryption.ts","name":null,"original":{"line":177,"column":12},"generated":{"line":2,"column":2695}},{"source":"../src/encryption.ts","name":null,"original":{"line":177,"column":29},"generated":{"line":2,"column":2697}},{"source":"../src/encryption.ts","name":null,"original":{"line":177,"column":38},"generated":{"line":2,"column":2699}},{"source":"../src/encryption.ts","name":null,"original":{"line":178,"column":8},"generated":{"line":2,"column":2712}},{"source":"../src/encryption.ts","name":null,"original":{"line":178,"column":22},"generated":{"line":2,"column":2714}},{"source":"../src/encryption.ts","name":null,"original":{"line":182,"column":12},"generated":{"line":2,"column":2730}},{"source":"../src/encryption.ts","name":null,"original":{"line":182,"column":31},"generated":{"line":2,"column":2732}},{"source":"../src/encryption.ts","name":null,"original":{"line":182,"column":36},"generated":{"line":2,"column":2734}},{"source":"../src/encryption.ts","name":null,"original":{"line":182,"column":40},"generated":{"line":2,"column":2738}},{"source":"../src/encryption.ts","name":null,"original":{"line":183,"column":8},"generated":{"line":2,"column":2743}},{"source":"../src/encryption.ts","name":null,"original":{"line":184,"column":8},"generated":{"line":2,"column":2745}},{"source":"../src/encryption.ts","name":null,"original":{"line":185,"column":8},"generated":{"line":2,"column":2747}},{"source":"../src/encryption.ts","name":null,"original":{"line":186,"column":8},"generated":{"line":2,"column":2749}},{"source":"../src/encryption.ts","name":null,"original":{"line":191,"column":10},"generated":{"line":2,"column":2752}},{"source":"../src/encryption.ts","name":null,"original":{"line":192,"column":8},"generated":{"line":2,"column":2756}},{"source":"../src/encryption.ts","name":null,"original":{"line":192,"column":17},"generated":{"line":2,"column":2758}},{"source":"../src/encryption.ts","name":null,"original":{"line":192,"column":26},"generated":{"line":2,"column":2760}},{"source":"../src/encryption.ts","name":null,"original":{"line":192,"column":37},"generated":{"line":2,"column":2771}},{"source":"../src/encryption.ts","name":null,"original":{"line":193,"column":8},"generated":{"line":2,"column":2774}},{"source":"../src/encryption.ts","name":null,"original":{"line":193,"column":15},"generated":{"line":2,"column":2780}},{"source":"../src/encryption.ts","name":null,"original":{"line":194,"column":14},"generated":{"line":2,"column":2783}},{"source":"../src/encryption.ts","name":null,"original":{"line":194,"column":14},"generated":{"line":2,"column":2789}},{"source":"../src/encryption.ts","name":null,"original":{"line":194,"column":18},"generated":{"line":2,"column":2793}},{"source":"../src/encryption.ts","name":null,"original":{"line":194,"column":24},"generated":{"line":2,"column":2799}},{"source":"../src/encryption.ts","name":null,"original":{"line":197,"column":10},"generated":{"line":2,"column":2821}},{"source":"../src/encryption.ts","name":null,"original":{"line":197,"column":10},"generated":{"line":2,"column":2824}},{"source":"../src/encryption.ts","name":null,"original":{"line":198,"column":15},"generated":{"line":2,"column":2826}},{"source":"../src/encryption.ts","name":null,"original":{"line":198,"column":15},"generated":{"line":2,"column":2833}},{"source":"../src/encryption.ts","name":null,"original":{"line":200,"column":12},"generated":{"line":2,"column":2835}},{"source":"../src/encryption.ts","name":null,"original":{"line":200,"column":12},"generated":{"line":2,"column":2841}},{"source":"../src/encryption.ts","name":null,"original":{"line":200,"column":16},"generated":{"line":2,"column":2845}},{"source":"../src/encryption.ts","name":null,"original":{"line":200,"column":22},"generated":{"line":2,"column":2851}},{"source":"../src/encryption.ts","name":null,"original":{"line":203,"column":4},"generated":{"line":2,"column":2873}},{"source":"../src/encryption.ts","name":null,"original":{"line":204,"column":12},"generated":{"line":2,"column":2881}},{"source":"../src/encryption.ts","name":null,"original":{"line":204,"column":12},"generated":{"line":2,"column":2887}},{"source":"../src/encryption.ts","name":null,"original":{"line":204,"column":16},"generated":{"line":2,"column":2891}},{"source":"../src/encryption.ts","name":null,"original":{"line":204,"column":22},"generated":{"line":2,"column":2897}},{"source":"../src/encryption.ts","name":null,"original":{"line":216,"column":0},"generated":{"line":2,"column":2940}},{"source":"../src/encryption.ts","name":null,"original":{"line":216,"column":16},"generated":{"line":2,"column":2949}},{"source":"../src/encryption.ts","name":null,"original":{"line":222,"column":1},"generated":{"line":2,"column":2951}},{"source":"../src/encryption.ts","name":null,"original":{"line":217,"column":2},"generated":{"line":2,"column":2954}},{"source":"../src/encryption.ts","name":null,"original":{"line":217,"column":2},"generated":{"line":2,"column":2958}},{"source":"../src/encryption.ts","name":null,"original":{"line":217,"column":2},"generated":{"line":2,"column":2960}},{"source":"../src/encryption.ts","name":null,"original":{"line":217,"column":2},"generated":{"line":2,"column":2962}},{"source":"../src/encryption.ts","name":null,"original":{"line":218,"column":2},"generated":{"line":2,"column":2976}},{"source":"../src/encryption.ts","name":null,"original":{"line":218,"column":2},"generated":{"line":2,"column":2978}},{"source":"../src/encryption.ts","name":null,"original":{"line":218,"column":2},"generated":{"line":2,"column":2980}},{"source":"../src/encryption.ts","name":null,"original":{"line":223,"column":6},"generated":{"line":2,"column":2991}},{"source":"../src/encryption.ts","name":null,"original":{"line":223,"column":6},"generated":{"line":2,"column":2994}},{"source":"../src/encryption.ts","name":null,"original":{"line":223,"column":6},"generated":{"line":2,"column":2996}},{"source":"../src/encryption.ts","name":null,"original":{"line":223,"column":16},"generated":{"line":2,"column":3006}},{"source":"../src/encryption.ts","name":null,"original":{"line":224,"column":10},"generated":{"line":2,"column":3009}},{"source":"../src/encryption.ts","name":null,"original":{"line":224,"column":10},"generated":{"line":2,"column":3015}},{"source":"../src/encryption.ts","name":null,"original":{"line":224,"column":14},"generated":{"line":2,"column":3019}},{"source":"../src/encryption.ts","name":null,"original":{"line":224,"column":20},"generated":{"line":2,"column":3025}},{"source":"../src/encryption.ts","name":null,"original":{"line":225,"column":9},"generated":{"line":2,"column":3060}},{"source":"../src/encryption.ts","name":null,"original":{"line":225,"column":13},"generated":{"line":2,"column":3063}},{"source":"../src/encryption.ts","name":null,"original":{"line":225,"column":13},"generated":{"line":2,"column":3065}},{"source":"../src/encryption.ts","name":null,"original":{"line":225,"column":23},"generated":{"line":2,"column":3075}},{"source":"../src/encryption.ts","name":null,"original":{"line":226,"column":10},"generated":{"line":2,"column":3078}},{"source":"../src/encryption.ts","name":null,"original":{"line":226,"column":10},"generated":{"line":2,"column":3084}},{"source":"../src/encryption.ts","name":null,"original":{"line":226,"column":14},"generated":{"line":2,"column":3088}},{"source":"../src/encryption.ts","name":null,"original":{"line":226,"column":20},"generated":{"line":2,"column":3094}},{"source":"../src/encryption.ts","name":null,"original":{"line":230,"column":9},"generated":{"line":2,"column":3126}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":26},"generated":{"line":2,"column":3133}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":31},"generated":{"line":2,"column":3138}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":37},"generated":{"line":2,"column":3144}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":45},"generated":{"line":2,"column":3146}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":47},"generated":{"line":2,"column":3147}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":47},"generated":{"line":2,"column":3161}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":62},"generated":{"line":2,"column":3163}},{"source":"../src/encryption.ts","name":null,"original":{"line":229,"column":62},"generated":{"line":2,"column":3174}},{"source":"../src/encryption.ts","name":null,"original":{"line":230,"column":25},"generated":{"line":2,"column":3179}},{"source":"../src/encryption.ts","name":null,"original":{"line":239,"column":0},"generated":{"line":2,"column":3184}},{"source":"../src/encryption.ts","name":null,"original":{"line":239,"column":16},"generated":{"line":2,"column":3193}},{"source":"../src/encryption.ts","name":null,"original":{"line":239,"column":39},"generated":{"line":2,"column":3195}},{"source":"../src/encryption.ts","name":null,"original":{"line":240,"column":8},"generated":{"line":2,"column":3198}},{"source":"../src/encryption.ts","name":null,"original":{"line":240,"column":8},"generated":{"line":2,"column":3202}},{"source":"../src/encryption.ts","name":null,"original":{"line":240,"column":31},"generated":{"line":2,"column":3204}},{"source":"../src/encryption.ts","name":null,"original":{"line":240,"column":46},"generated":{"line":2,"column":3206}},{"source":"../src/encryption.ts","name":null,"original":{"line":241,"column":8},"generated":{"line":2,"column":3209}},{"source":"../src/encryption.ts","name":null,"original":{"line":242,"column":4},"generated":{"line":2,"column":3211}},{"source":"../src/encryption.ts","name":null,"original":{"line":242,"column":9},"generated":{"line":2,"column":3213}},{"source":"../src/encryption.ts","name":null,"original":{"line":242,"column":13},"generated":{"line":2,"column":3217}},{"source":"../src/encryption.ts","name":null,"original":{"line":242,"column":21},"generated":{"line":2,"column":3225}},{"source":"../src/encryption.ts","name":null,"original":{"line":242,"column":35},"generated":{"line":2,"column":3239}},{"source":"../src/encryption.ts","name":null,"original":{"line":242,"column":57},"generated":{"line":2,"column":3242}},{"source":"../src/encryption.ts","name":null,"original":{"line":243,"column":9},"generated":{"line":2,"column":3252}},{"source":"../src/encryption.ts","name":null,"original":{"line":243,"column":9},"generated":{"line":2,"column":3259}},{"source":"../src/encryption.ts","name":null,"original":{"line":243,"column":18},"generated":{"line":2,"column":3261}},{"source":"../src/encryption.ts","name":null,"original":{"line":243,"column":31},"generated":{"line":2,"column":3274}},{"source":"../src/encryption.ts","name":null,"original":{"line":252,"column":0},"generated":{"line":2,"column":3277}},{"source":"../src/encryption.ts","name":null,"original":{"line":252,"column":9},"generated":{"line":2,"column":3286}},{"source":"../src/encryption.ts","name":null,"original":{"line":252,"column":24},"generated":{"line":2,"column":3288}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":8},"generated":{"line":2,"column":3291}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":8},"generated":{"line":2,"column":3295}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":20},"generated":{"line":2,"column":3297}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":27},"generated":{"line":2,"column":3299}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":32},"generated":{"line":2,"column":3304}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":40},"generated":{"line":2,"column":3306}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":47},"generated":{"line":2,"column":3313}},{"source":"../src/encryption.ts","name":null,"original":{"line":253,"column":56},"generated":{"line":2,"column":3322}},{"source":"../src/encryption.ts","name":null,"original":{"line":254,"column":9},"generated":{"line":2,"column":3332}},{"source":"../src/encryption.ts","name":null,"original":{"line":254,"column":9},"generated":{"line":2,"column":3339}},{"source":"../src/encryption.ts","name":null,"original":{"line":254,"column":18},"generated":{"line":2,"column":3341}},{"source":"../src/encryption.ts","name":null,"original":{"line":254,"column":31},"generated":{"line":2,"column":3354}},{"source":"../src/encryption.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":2,"column":3357}},{"source":"../src/encryption.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":2,"column":3365}},{"source":"../src/encryption.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":2,"column":3373}},{"source":"../src/encryption.ts","name":null,"original":{"line":94,"column":0},"generated":{"line":2,"column":3375}},{"source":"../src/encryption.ts","name":null,"original":{"line":94,"column":0},"generated":{"line":2,"column":3383}},{"source":"../src/encryption.ts","name":null,"original":{"line":94,"column":0},"generated":{"line":2,"column":3397}},{"source":"../src/encryption.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":2,"column":3399}},{"source":"../src/encryption.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":2,"column":3407}},{"source":"../src/encryption.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":2,"column":3415}},{"source":"../src/encryption.ts","name":null,"original":{"line":216,"column":0},"generated":{"line":2,"column":3417}},{"source":"../src/encryption.ts","name":null,"original":{"line":216,"column":0},"generated":{"line":2,"column":3425}},{"source":"../src/encryption.ts","name":null,"original":{"line":216,"column":0},"generated":{"line":2,"column":3439}},{"source":"../src/encryption.ts","name":null,"original":{"line":239,"column":0},"generated":{"line":2,"column":3441}},{"source":"../src/encryption.ts","name":null,"original":{"line":239,"column":0},"generated":{"line":2,"column":3449}},{"source":"../src/encryption.ts","name":null,"original":{"line":239,"column":0},"generated":{"line":2,"column":3472}}],"sources":{"../src/encryption.ts":"import * as nacl from 'tweetnacl';\nimport * as naclUtil from 'tweetnacl-util';\n\nimport { isNullish } from './utils';\n\nexport interface EthEncryptedData {\n  version: string;\n  nonce: string;\n  ephemPublicKey: string;\n  ciphertext: string;\n}\n\n/**\n * Encrypt a message.\n *\n * @param options - The encryption options.\n * @param options.publicKey - The public key of the message recipient.\n * @param options.data - The message data.\n * @param options.version - The type of encryption to use.\n * @returns The encrypted data.\n */\nexport function encrypt({\n  publicKey,\n  data,\n  version,\n}: {\n  publicKey: string;\n  data: unknown;\n  version: string;\n}): EthEncryptedData {\n  if (isNullish(publicKey)) {\n    throw new Error('Missing publicKey parameter');\n  } else if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(version)) {\n    throw new Error('Missing version parameter');\n  }\n\n  switch (version) {\n    case 'x25519-xsalsa20-poly1305': {\n      if (typeof data !== 'string') {\n        throw new Error('Message data must be given as a string');\n      }\n      // generate ephemeral keypair\n      const ephemeralKeyPair = nacl.box.keyPair();\n\n      // assemble encryption parameters - from string to UInt8\n      let pubKeyUInt8Array;\n      try {\n        pubKeyUInt8Array = naclUtil.decodeBase64(publicKey);\n      } catch (err) {\n        throw new Error('Bad public key');\n      }\n\n      const msgParamsUInt8Array = naclUtil.decodeUTF8(data);\n      const nonce = nacl.randomBytes(nacl.box.nonceLength);\n\n      // encrypt\n      const encryptedMessage = nacl.box(\n        msgParamsUInt8Array,\n        nonce,\n        pubKeyUInt8Array,\n        ephemeralKeyPair.secretKey,\n      );\n\n      // handle encrypted data\n      const output = {\n        version: 'x25519-xsalsa20-poly1305',\n        nonce: naclUtil.encodeBase64(nonce),\n        ephemPublicKey: naclUtil.encodeBase64(ephemeralKeyPair.publicKey),\n        ciphertext: naclUtil.encodeBase64(encryptedMessage),\n      };\n      // return encrypted msg data\n      return output;\n    }\n\n    default:\n      throw new Error('Encryption type/version not supported');\n  }\n}\n\n/**\n * Encrypt a message in a way that obscures the message length.\n *\n * The message is padded to a multiple of 2048 before being encrypted so that the length of the\n * resulting encrypted message can't be used to guess the exact length of the original message.\n *\n * @param options - The encryption options.\n * @param options.publicKey - The public key of the message recipient.\n * @param options.data - The message data.\n * @param options.version - The type of encryption to use.\n * @returns The encrypted data.\n */\nexport function encryptSafely({\n  publicKey,\n  data,\n  version,\n}: {\n  publicKey: string;\n  data: unknown;\n  version: string;\n}): EthEncryptedData {\n  if (isNullish(publicKey)) {\n    throw new Error('Missing publicKey parameter');\n  } else if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(version)) {\n    throw new Error('Missing version parameter');\n  }\n\n  const DEFAULT_PADDING_LENGTH = 2 ** 11;\n  const NACL_EXTRA_BYTES = 16;\n\n  if (typeof data === 'object' && 'toJSON' in data) {\n    // remove toJSON attack vector\n    // TODO, check all possible children\n    throw new Error(\n      'Cannot encrypt with toJSON property.  Please remove toJSON property',\n    );\n  }\n\n  // add padding\n  const dataWithPadding = {\n    data,\n    padding: '',\n  };\n\n  // calculate padding\n  const dataLength = Buffer.byteLength(\n    JSON.stringify(dataWithPadding),\n    'utf-8',\n  );\n  const modVal = dataLength % DEFAULT_PADDING_LENGTH;\n  let padLength = 0;\n  // Only pad if necessary\n  if (modVal > 0) {\n    padLength = DEFAULT_PADDING_LENGTH - modVal - NACL_EXTRA_BYTES; // nacl extra bytes\n  }\n  dataWithPadding.padding = '0'.repeat(padLength);\n\n  const paddedMessage = JSON.stringify(dataWithPadding);\n  return encrypt({ publicKey, data: paddedMessage, version });\n}\n\n/**\n * Decrypt a message.\n *\n * @param options - The decryption options.\n * @param options.encryptedData - The encrypted data.\n * @param options.privateKey - The private key to decrypt with.\n * @returns The decrypted message.\n */\nexport function decrypt({\n  encryptedData,\n  privateKey,\n}: {\n  encryptedData: EthEncryptedData;\n  privateKey: string;\n}): string {\n  if (isNullish(encryptedData)) {\n    throw new Error('Missing encryptedData parameter');\n  } else if (isNullish(privateKey)) {\n    throw new Error('Missing privateKey parameter');\n  }\n\n  switch (encryptedData.version) {\n    case 'x25519-xsalsa20-poly1305': {\n      // string to buffer to UInt8Array\n      const recieverPrivateKeyUint8Array = nacl_decodeHex(privateKey);\n      const recieverEncryptionPrivateKey = nacl.box.keyPair.fromSecretKey(\n        recieverPrivateKeyUint8Array,\n      ).secretKey;\n\n      // assemble decryption parameters\n      const nonce = naclUtil.decodeBase64(encryptedData.nonce);\n      const ciphertext = naclUtil.decodeBase64(encryptedData.ciphertext);\n      const ephemPublicKey = naclUtil.decodeBase64(\n        encryptedData.ephemPublicKey,\n      );\n\n      // decrypt\n      const decryptedMessage = nacl.box.open(\n        ciphertext,\n        nonce,\n        ephemPublicKey,\n        recieverEncryptionPrivateKey,\n      );\n\n      // return decrypted msg data\n      let output;\n      try {\n        output = naclUtil.encodeUTF8(decryptedMessage);\n      } catch (err) {\n        throw new Error('Decryption failed.');\n      }\n\n      if (output) {\n        return output;\n      }\n      throw new Error('Decryption failed.');\n    }\n\n    default:\n      throw new Error('Encryption type/version not supported.');\n  }\n}\n\n/**\n * Decrypt a message that has been encrypted using `encryptSafely`.\n *\n * @param options - The decryption options.\n * @param options.encryptedData - The encrypted data.\n * @param options.privateKey - The private key to decrypt with.\n * @returns The decrypted message.\n */\nexport function decryptSafely({\n  encryptedData,\n  privateKey,\n}: {\n  encryptedData: EthEncryptedData;\n  privateKey: string;\n}): string {\n  if (isNullish(encryptedData)) {\n    throw new Error('Missing encryptedData parameter');\n  } else if (isNullish(privateKey)) {\n    throw new Error('Missing privateKey parameter');\n  }\n\n  const dataWithPadding = JSON.parse(decrypt({ encryptedData, privateKey }));\n  return dataWithPadding.data;\n}\n\n/**\n * Get the encryption public key for the given key.\n *\n * @param privateKey - The private key to generate the encryption public key with.\n * @returns The encryption public key.\n */\nexport function getEncryptionPublicKey(privateKey: string): string {\n  const privateKeyUint8Array = nacl_decodeHex(privateKey);\n  const encryptionPublicKey =\n    nacl.box.keyPair.fromSecretKey(privateKeyUint8Array).publicKey;\n  return naclUtil.encodeBase64(encryptionPublicKey);\n}\n\n/**\n * Convert a hex string to the UInt8Array format used by nacl.\n *\n * @param msgHex - The string to convert.\n * @returns The converted string.\n */\nfunction nacl_decodeHex(msgHex: string): Uint8Array {\n  const msgBase64 = Buffer.from(msgHex, 'hex').toString('base64');\n  return naclUtil.decodeBase64(msgBase64);\n}\n"},"lineCount":null}},"error":null,"hash":"34cadc07cbe9760f1fec5e65d4f6bc78","cacheData":{"env":{}}}