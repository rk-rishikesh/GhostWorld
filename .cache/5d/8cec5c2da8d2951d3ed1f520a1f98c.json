{"id":"LOmS","dependencies":[{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\personal-sign.js.map","includedInParent":true,"mtime":1648301043002},{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\package.json","includedInParent":true,"mtime":1648301114916},{"name":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\package.json","includedInParent":true,"mtime":1648301042595},{"name":"ethereumjs-util","loc":{"line":4,"column":34,"index":204},"parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\personal-sign.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\node_modules\\ethereumjs-util\\dist\\index.js"},{"name":"./utils","loc":{"line":5,"column":24,"index":248},"parent":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\personal-sign.js","resolved":"C:\\Users\\rishi\\ethernal\\GhostWorld\\node_modules\\@metamask\\eth-sig-util\\dist\\utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.extractPublicKey=exports.recoverPersonalSignature=exports.personalSign=void 0;var r=require(\"ethereumjs-util\"),e=require(\"./utils\");function i(i){var a=i.privateKey,t=i.data;if(e.isNullish(t))throw new Error(\"Missing data parameter\");if(e.isNullish(a))throw new Error(\"Missing privateKey parameter\");var s=e.legacyToBuffer(t),n=r.hashPersonalMessage(s),o=r.ecsign(n,a);return e.concatSig(r.toBuffer(o.v),o.r,o.s)}function a(i){var a=i.data,t=i.signature;if(e.isNullish(a))throw new Error(\"Missing data parameter\");if(e.isNullish(t))throw new Error(\"Missing signature parameter\");var n=s(a,t),o=r.publicToAddress(n);return r.bufferToHex(o)}function t(r){var i=r.data,a=r.signature;if(e.isNullish(i))throw new Error(\"Missing data parameter\");if(e.isNullish(a))throw new Error(\"Missing signature parameter\");var t=s(i,a);return\"0x\".concat(t.toString(\"hex\"))}function s(i,a){var t=r.hashPersonalMessage(e.legacyToBuffer(i));return e.recoverPublicKey(t,a)}exports.personalSign=i,exports.recoverPersonalSignature=a,exports.extractPublicKey=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":0}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":13}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":20}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":35}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":43}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":56}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":57}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":64}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":68}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":76}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":93}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":101}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":126}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":134}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":152}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":154}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":158}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":160}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":168}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":187}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":189}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":197}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":208}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":217}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":219}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":222}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":226}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":228}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":230}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":241}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":243}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":245}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":250}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":253}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":255}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":34,"column":16},"generated":{"line":1,"column":265}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":268}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":274}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":1,"column":278}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":284}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":310}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":313}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":315}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":325}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":328}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":334}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":1,"column":338}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":1,"column":344}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":376}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":380}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":382}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":384}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":40,"column":33},"generated":{"line":1,"column":399}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":402}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":404}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":406}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":41,"column":38},"generated":{"line":1,"column":426}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":429}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":431}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":433}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":440}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":42,"column":30},"generated":{"line":1,"column":442}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":445}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":1,"column":452}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":1,"column":454}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":31},"generated":{"line":1,"column":464}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":31},"generated":{"line":1,"column":466}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":40},"generated":{"line":1,"column":475}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":44},"generated":{"line":1,"column":477}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":48},"generated":{"line":1,"column":480}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":52},"generated":{"line":1,"column":482}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":55},"generated":{"line":1,"column":484}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":43,"column":59},"generated":{"line":1,"column":486}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":489}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":1,"column":498}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":62,"column":1},"generated":{"line":1,"column":500}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":503}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":507}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":509}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":511}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":516}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":518}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":520}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":530}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":533}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":535}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":545}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":548}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":554}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":1,"column":558}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":64,"column":20},"generated":{"line":1,"column":564}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":1,"column":590}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":65,"column":13},"generated":{"line":1,"column":593}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":65,"column":13},"generated":{"line":1,"column":595}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":65,"column":23},"generated":{"line":1,"column":605}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":608}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":614}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":66,"column":14},"generated":{"line":1,"column":618}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":66,"column":20},"generated":{"line":1,"column":624}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":655}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":659}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":69,"column":20},"generated":{"line":1,"column":661}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":69,"column":36},"generated":{"line":1,"column":663}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":69,"column":42},"generated":{"line":1,"column":665}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":668}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":70,"column":17},"generated":{"line":1,"column":670}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":70,"column":17},"generated":{"line":1,"column":672}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":70,"column":33},"generated":{"line":1,"column":688}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":691}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":71,"column":20},"generated":{"line":1,"column":698}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":71,"column":20},"generated":{"line":1,"column":700}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":71,"column":32},"generated":{"line":1,"column":712}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":84,"column":0},"generated":{"line":1,"column":715}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":84,"column":16},"generated":{"line":1,"column":724}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":90,"column":1},"generated":{"line":1,"column":726}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":729}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":733}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":735}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":737}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":742}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":744}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":746}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":756}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":759}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":761}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":771}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":774}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":780}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":92,"column":14},"generated":{"line":1,"column":784}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":1,"column":790}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":816}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":93,"column":13},"generated":{"line":1,"column":819}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":93,"column":13},"generated":{"line":1,"column":821}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":93,"column":23},"generated":{"line":1,"column":831}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":834}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":840}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":94,"column":14},"generated":{"line":1,"column":844}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":94,"column":20},"generated":{"line":1,"column":850}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":881}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":885}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":887}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":97,"column":36},"generated":{"line":1,"column":889}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":97,"column":42},"generated":{"line":1,"column":891}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":98,"column":14},"generated":{"line":1,"column":894}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":98,"column":14},"generated":{"line":1,"column":900}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":98,"column":14},"generated":{"line":1,"column":905}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":98,"column":14},"generated":{"line":1,"column":912}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":98,"column":24},"generated":{"line":1,"column":914}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":98,"column":33},"generated":{"line":1,"column":923}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":108,"column":0},"generated":{"line":1,"column":931}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":108,"column":9},"generated":{"line":1,"column":940}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":108,"column":25},"generated":{"line":1,"column":942}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":108,"column":43},"generated":{"line":1,"column":944}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":109,"column":8},"generated":{"line":1,"column":947}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":109,"column":8},"generated":{"line":1,"column":951}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":109,"column":22},"generated":{"line":1,"column":953}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":109,"column":22},"generated":{"line":1,"column":955}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":109,"column":42},"generated":{"line":1,"column":975}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":109,"column":42},"generated":{"line":1,"column":977}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":109,"column":57},"generated":{"line":1,"column":992}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":996}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":1003}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":1005}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":110,"column":26},"generated":{"line":1,"column":1022}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":110,"column":39},"generated":{"line":1,"column":1024}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":1027}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":1035}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":1048}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1050}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1058}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1083}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":84,"column":0},"generated":{"line":1,"column":1085}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":84,"column":0},"generated":{"line":1,"column":1093}},{"source":"../src/personal-sign.ts","name":null,"original":{"line":84,"column":0},"generated":{"line":1,"column":1110}}],"sources":{"../src/personal-sign.ts":"import {\n  bufferToHex,\n  ecsign,\n  hashPersonalMessage,\n  publicToAddress,\n  toBuffer,\n} from 'ethereumjs-util';\n\nimport {\n  concatSig,\n  isNullish,\n  legacyToBuffer,\n  recoverPublicKey,\n} from './utils';\n\n/**\n * Create an Ethereum-specific signature for a message.\n *\n * This function is equivalent to the `eth_sign` Ethereum JSON-RPC method as specified in EIP-1417,\n * as well as the MetaMask's `personal_sign` method.\n *\n * @param options - The personal sign options.\n * @param options.privateKey - The key to sign with.\n * @param options.data - The hex data to sign.\n * @returns The '0x'-prefixed hex encoded signature.\n */\nexport function personalSign({\n  privateKey,\n  data,\n}: {\n  privateKey: Buffer;\n  data: unknown;\n}): string {\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(privateKey)) {\n    throw new Error('Missing privateKey parameter');\n  }\n\n  const message = legacyToBuffer(data);\n  const msgHash = hashPersonalMessage(message);\n  const sig = ecsign(msgHash, privateKey);\n  const serialized = concatSig(toBuffer(sig.v), sig.r, sig.s);\n  return serialized;\n}\n\n/**\n * Recover the address of the account used to create the given Ethereum signature. The message\n * must have been signed using the `personalSign` function, or an equivalent function.\n *\n * @param options - The signature recovery options.\n * @param options.data - The hex data that was signed.\n * @param options.signature - The '0x'-prefixed hex encoded message signature.\n * @returns The '0x'-prefixed hex encoded address of the message signer.\n */\nexport function recoverPersonalSignature({\n  data,\n  signature,\n}: {\n  data: unknown;\n  signature: string;\n}): string {\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(signature)) {\n    throw new Error('Missing signature parameter');\n  }\n\n  const publicKey = getPublicKeyFor(data, signature);\n  const sender = publicToAddress(publicKey);\n  const senderHex = bufferToHex(sender);\n  return senderHex;\n}\n\n/**\n * Recover the public key of the account used to create the given Ethereum signature. The message\n * must have been signed using the `personalSign` function, or an equivalent function.\n *\n * @param options - The public key recovery options.\n * @param options.data - The hex data that was signed.\n * @param options.signature - The '0x'-prefixed hex encoded message signature.\n * @returns The '0x'-prefixed hex encoded public key of the message signer.\n */\nexport function extractPublicKey({\n  data,\n  signature,\n}: {\n  data: unknown;\n  signature: string;\n}): string {\n  if (isNullish(data)) {\n    throw new Error('Missing data parameter');\n  } else if (isNullish(signature)) {\n    throw new Error('Missing signature parameter');\n  }\n\n  const publicKey = getPublicKeyFor(data, signature);\n  return `0x${publicKey.toString('hex')}`;\n}\n\n/**\n * Get the public key for the given signature and message.\n *\n * @param message - The message that was signed.\n * @param signature - The '0x'-prefixed hex encoded message signature.\n * @returns The public key of the signer.\n */\nfunction getPublicKeyFor(message: unknown, signature: string): Buffer {\n  const messageHash = hashPersonalMessage(legacyToBuffer(message));\n  return recoverPublicKey(messageHash, signature);\n}\n"},"lineCount":null}},"error":null,"hash":"a210f43eb0207e0dc0d13d31f4f95723","cacheData":{"env":{}}}