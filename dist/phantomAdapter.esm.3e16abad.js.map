{"version":3,"sources":["../src/utils.ts","../src/phantomAdapter.ts"],"names":["poll","callback","interval","count","Promise","resolve","reject","setTimeout","done","then","res","catch","err","detectProvider","options","isPhantomAvailable","window","solana","isPhantom","isAvailable","PhantomAdapter","BaseAdapter","constructor","WALLET_ADAPTERS","PHANTOM","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","_wallet","off","_onDisconnect","rehydrated","status","CONNECTED","READY","emit","ADAPTER_EVENTS","DISCONNECTED","chainConfig","isWalletConnected","isConnected","provider","phantomProvider","_","Error","setAdapterSettings","init","checkInitializationRequirements","getChainConfig","WalletInitializationError","notInstalled","PhantomInjectedProvider","config","autoConnect","connect","error","log","checkConnectionRequirements","CONNECTING","adapter","handleDisconnect","_handleDisconnect","connectWithProvider","once","windowClosed","args","apply","reason","Web3AuthError","WalletLoginError","connectionError","message","publicKey","on","ERRORED","disconnect","cleanup","notConnectedError","disconnectionError","getUserInfo","injectedProvider","setupProvider","reconnected"],"mappings":"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","file":"phantomAdapter.esm.3e16abad.js","sourceRoot":".."}